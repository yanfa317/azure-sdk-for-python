

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>azure.storage.blob.aio.blob_client_async &mdash; Azure SDK for Python 2.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../../" src="../../../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../../index.html" class="icon icon-home"> Azure SDK for Python
          

          
          </a>

          
            
            
              <div class="version">
                2.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../quickstart_authentication.html">Resource Management Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../multicloud.html">Multi-cloud - use Azure on all regions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../exceptions.html">Exception handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../servicemanagement.html">Service Management (Legacy)</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.common.html">azure.common package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.appconfiguration.html">azure.appconfiguration package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.applicationinsights.html">azure.applicationinsights package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.batch.html">azure.batch package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.cognitiveservices.anomalydetector.html">azure.cognitiveservices.anomalydetector package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.cognitiveservices.knowledge.qnamaker.html">azure.cognitiveservices.knowledge.qnamaker package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.cognitiveservices.language.luis.authoring.html">azure.cognitiveservices.language.luis.authoring package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.cognitiveservices.language.luis.runtime.html">azure.cognitiveservices.language.luis.runtime package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.cognitiveservices.language.spellcheck.html">azure.cognitiveservices.language.spellcheck package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.cognitiveservices.language.textanalytics.html">azure.cognitiveservices.language.textanalytics package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.cognitiveservices.search.autosuggest.html">azure.cognitiveservices.search.autosuggest package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.cognitiveservices.search.customimagesearch.html">azure.cognitiveservices.search.customimagesearch package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.cognitiveservices.search.customsearch.html">azure.cognitiveservices.search.customsearch package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.cognitiveservices.search.entitysearch.html">azure.cognitiveservices.search.entitysearch package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.cognitiveservices.search.imagesearch.html">azure.cognitiveservices.search.imagesearch package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.cognitiveservices.search.newssearch.html">azure.cognitiveservices.search.newssearch package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.cognitiveservices.search.videosearch.html">azure.cognitiveservices.search.videosearch package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.cognitiveservices.search.visualsearch.html">azure.cognitiveservices.search.visualsearch package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.cognitiveservices.search.websearch.html">azure.cognitiveservices.search.websearch package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.cognitiveservices.vision.computervision.html">azure.cognitiveservices.vision.computervision package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.cognitiveservices.vision.contentmoderator.html">azure.cognitiveservices.vision.contentmoderator package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.cognitiveservices.vision.customvision.prediction.html">azure.cognitiveservices.vision.customvision.prediction package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.cognitiveservices.vision.customvision.training.html">azure.cognitiveservices.vision.customvision.training package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.cognitiveservices.vision.face.html">azure.cognitiveservices.vision.face package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.core.html">azure.core package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.cosmos.html">azure.cosmos package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.eventgrid.html">azure.eventgrid package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.eventhub.html">azure.eventhub package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.eventhub.extensions.html">azure.eventhub.extensions package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.graphrbac.html">azure.graphrbac package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.identity.html">azure.identity package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.keyvault.certificates.html">azure.keyvault.certificates package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.keyvault.keys.html">azure.keyvault.keys package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.keyvault.secrets.html">azure.keyvault.secrets package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.loganalytics.html">azure.loganalytics package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.advisor.html">azure.mgmt.advisor package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.alertsmanagement.html">azure.mgmt.alertsmanagement package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.apimanagement.html">azure.mgmt.apimanagement package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.applicationinsights.html">azure.mgmt.applicationinsights package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.authorization.html">azure.mgmt.authorization package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.automation.html">azure.mgmt.automation package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.batch.html">azure.mgmt.batch package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.batchai.html">azure.mgmt.batchai package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.billing.html">azure.mgmt.billing package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.cdn.html">azure.mgmt.cdn package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.cognitiveservices.html">azure.mgmt.cognitiveservices package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.commerce.html">azure.mgmt.commerce package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.compute.html">azure.mgmt.compute package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.consumption.html">azure.mgmt.consumption package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.containerinstance.html">azure.mgmt.containerinstance package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.containerregistry.html">azure.mgmt.containerregistry package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.containerservice.html">azure.mgmt.containerservice package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.cosmosdb.html">azure.mgmt.cosmosdb package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.databricks.html">azure.mgmt.databricks package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.datafactory.html">azure.mgmt.datafactory package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.datalake.analytics.account.html">azure.mgmt.datalake.analytics.account package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.datalake.analytics.catalog.html">azure.mgmt.datalake.analytics.catalog package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.datalake.analytics.job.html">azure.mgmt.datalake.analytics.job package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.datalake.store.html">azure.mgmt.datalake.store package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.datamigration.html">azure.mgmt.datamigration package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.devspaces.html">azure.mgmt.devspaces package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.devtestlabs.html">azure.mgmt.devtestlabs package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.dns.html">azure.mgmt.dns package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.eventgrid.html">azure.mgmt.eventgrid package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.eventhub.html">azure.mgmt.eventhub package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.hanaonazure.html">azure.mgmt.hanaonazure package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.hdinsight.html">azure.mgmt.hdinsight package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.imagebuilder.html">azure.mgmt.imagebuilder package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.iotcentral.html">azure.mgmt.iotcentral package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.iothub.html">azure.mgmt.iothub package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.iothubprovisioningservices.html">azure.mgmt.iothubprovisioningservices package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.keyvault.html">azure.mgmt.keyvault package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.kusto.html">azure.mgmt.kusto package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.labservices.html">azure.mgmt.labservices package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.loganalytics.html">azure.mgmt.loganalytics package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.logic.html">azure.mgmt.logic package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.machinelearningcompute.html">azure.mgmt.machinelearningcompute package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.managementgroups.html">azure.mgmt.managementgroups package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.managementpartner.html">azure.mgmt.managementpartner package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.maps.html">azure.mgmt.maps package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.marketplaceordering.html">azure.mgmt.marketplaceordering package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.media.html">azure.mgmt.media package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.mixedreality.html">azure.mgmt.mixedreality package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.monitor.html">azure.mgmt.monitor package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.msi.html">azure.mgmt.msi package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.netapp.html">azure.mgmt.netapp package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.network.html">azure.mgmt.network package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.notificationhubs.html">azure.mgmt.notificationhubs package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.policyinsights.html">azure.mgmt.policyinsights package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.powerbiembedded.html">azure.mgmt.powerbiembedded package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.rdbms.mariadb.html">azure.mgmt.rdbms.mariadb package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.rdbms.mysql.html">azure.mgmt.rdbms.mysql package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.rdbms.postgresql.html">azure.mgmt.rdbms.postgresql package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.recoveryservices.html">azure.mgmt.recoveryservices package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.recoveryservicesbackup.html">azure.mgmt.recoveryservicesbackup package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.redis.html">azure.mgmt.redis package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.relay.html">azure.mgmt.relay package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.resource.features.html">azure.mgmt.resource.features package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.resource.links.html">azure.mgmt.resource.links package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.resource.locks.html">azure.mgmt.resource.locks package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.resource.managedapplications.html">azure.mgmt.resource.managedapplications package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.resource.policy.html">azure.mgmt.resource.policy package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.resource.resources.html">azure.mgmt.resource.resources package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.resource.subscriptions.html">azure.mgmt.resource.subscriptions package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.resourcegraph.html">azure.mgmt.resourcegraph package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.scheduler.html">azure.mgmt.scheduler package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.search.html">azure.mgmt.search package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.security.html">azure.mgmt.security package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.servermanager.html">azure.mgmt.servermanager package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.servicebus.html">azure.mgmt.servicebus package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.servicefabric.html">azure.mgmt.servicefabric package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.signalr.html">azure.mgmt.signalr package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.sql.html">azure.mgmt.sql package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.sqlvirtualmachine.html">azure.mgmt.sqlvirtualmachine package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.storage.html">azure.mgmt.storage package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.subscription.html">azure.mgmt.subscription package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.trafficmanager.html">azure.mgmt.trafficmanager package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.mgmt.web.html">azure.mgmt.web package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.servicebus.html">azure.servicebus package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.servicefabric.html">azure.servicefabric package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.storage.blob.html">azure.storage.blob package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.storage.file.html">azure.storage.file package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.storage.queue.html">azure.storage.queue package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ref/azure.servicemanagement.html">azure.servicemanagement package</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">Azure SDK for Python</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../../../index.html">Module code</a> &raquo;</li>
        
      <li>azure.storage.blob.aio.blob_client_async</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for azure.storage.blob.aio.blob_client_async</h1><div class="highlight"><pre>
<span></span><span class="c1"># -------------------------------------------------------------------------</span>
<span class="c1"># Copyright (c) Microsoft Corporation. All rights reserved.</span>
<span class="c1"># Licensed under the MIT License. See License.txt in the project root for</span>
<span class="c1"># license information.</span>
<span class="c1"># --------------------------------------------------------------------------</span>
<span class="c1"># pylint: disable=too-many-lines</span>

<span class="kn">from</span> <span class="nn">typing</span> <span class="k">import</span> <span class="p">(</span>  <span class="c1"># pylint: disable=unused-import</span>
    <span class="n">Union</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">IO</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">,</span> <span class="n">AnyStr</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">,</span>
    <span class="n">TYPE_CHECKING</span>
<span class="p">)</span>

<span class="kn">from</span> <span class="nn">azure.core.tracing.decorator_async</span> <span class="k">import</span> <span class="n">distributed_trace_async</span>
<span class="kn">from</span> <span class="nn">azure.storage.blob._generated.models</span> <span class="k">import</span> <span class="n">CpkInfo</span>

<span class="kn">from</span> <span class="nn">.._shared.base_client_async</span> <span class="k">import</span> <span class="n">AsyncStorageAccountHostsMixin</span>
<span class="kn">from</span> <span class="nn">.._shared.policies_async</span> <span class="k">import</span> <span class="n">ExponentialRetry</span>
<span class="kn">from</span> <span class="nn">.._shared.downloads_async</span> <span class="k">import</span> <span class="n">StorageStreamDownloader</span>
<span class="kn">from</span> <span class="nn">.._shared.response_handlers</span> <span class="k">import</span> <span class="n">return_response_headers</span><span class="p">,</span> <span class="n">process_storage_error</span>
<span class="kn">from</span> <span class="nn">.._generated.aio</span> <span class="k">import</span> <span class="n">AzureBlobStorage</span>
<span class="kn">from</span> <span class="nn">.._generated.models</span> <span class="k">import</span> <span class="n">ModifiedAccessConditions</span><span class="p">,</span> <span class="n">StorageErrorException</span>
<span class="kn">from</span> <span class="nn">.._deserialize</span> <span class="k">import</span> <span class="n">deserialize_blob_properties</span>
<span class="kn">from</span> <span class="nn">..blob_client</span> <span class="k">import</span> <span class="n">BlobClient</span> <span class="k">as</span> <span class="n">BlobClientBase</span>
<span class="kn">from</span> <span class="nn">._upload_helpers</span> <span class="k">import</span> <span class="p">(</span>
    <span class="n">upload_block_blob</span><span class="p">,</span>
    <span class="n">upload_append_blob</span><span class="p">,</span>
    <span class="n">upload_page_blob</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">..models</span> <span class="k">import</span> <span class="n">BlobType</span><span class="p">,</span> <span class="n">BlobBlock</span>
<span class="kn">from</span> <span class="nn">..lease</span> <span class="k">import</span> <span class="n">get_access_conditions</span>
<span class="kn">from</span> <span class="nn">.lease_async</span> <span class="k">import</span> <span class="n">LeaseClient</span>

<span class="k">if</span> <span class="n">TYPE_CHECKING</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">datetime</span> <span class="k">import</span> <span class="n">datetime</span>
    <span class="kn">from</span> <span class="nn">azure.core.pipeline.policies</span> <span class="k">import</span> <span class="n">HTTPPolicy</span>
    <span class="kn">from</span> <span class="nn">..models</span> <span class="k">import</span> <span class="p">(</span>  <span class="c1"># pylint: disable=unused-import</span>
        <span class="n">ContainerProperties</span><span class="p">,</span>
        <span class="n">BlobProperties</span><span class="p">,</span>
        <span class="n">BlobPermissions</span><span class="p">,</span>
        <span class="n">ContentSettings</span><span class="p">,</span>
        <span class="n">PremiumPageBlobTier</span><span class="p">,</span>
        <span class="n">StandardBlobTier</span><span class="p">,</span>
        <span class="n">SequenceNumberAction</span>
    <span class="p">)</span>


<div class="viewcode-block" id="BlobClient"><a class="viewcode-back" href="../../../../../ref/azure.storage.blob.aio.html#azure.storage.blob.aio.blob_client_async.BlobClient">[docs]</a><span class="k">class</span> <span class="nc">BlobClient</span><span class="p">(</span><span class="n">AsyncStorageAccountHostsMixin</span><span class="p">,</span> <span class="n">BlobClientBase</span><span class="p">):</span>  <span class="c1"># pylint: disable=too-many-public-methods</span>
    <span class="sd">&quot;&quot;&quot;A client to interact with a specific blob, although that blob may not yet exist.</span>

<span class="sd">    :ivar str url:</span>
<span class="sd">        The full endpoint URL to the Blob, including snapshot and SAS token if used. This could be</span>
<span class="sd">        either the primary endpoint, or the secondary endpoint depending on the current `location_mode`.</span>
<span class="sd">    :ivar str primary_endpoint:</span>
<span class="sd">        The full primary endpoint URL.</span>
<span class="sd">    :ivar str primary_hostname:</span>
<span class="sd">        The hostname of the primary endpoint.</span>
<span class="sd">    :ivar str secondary_endpoint:</span>
<span class="sd">        The full secondary endpoint URL if configured. If not available</span>
<span class="sd">        a ValueError will be raised. To explicitly specify a secondary hostname, use the optional</span>
<span class="sd">        `secondary_hostname` keyword argument on instantiation.</span>
<span class="sd">    :ivar str secondary_hostname:</span>
<span class="sd">        The hostname of the secondary endpoint. If not available this</span>
<span class="sd">        will be None. To explicitly specify a secondary hostname, use the optional</span>
<span class="sd">        `secondary_hostname` keyword argument on instantiation.</span>
<span class="sd">    :ivar str location_mode:</span>
<span class="sd">        The location mode that the client is currently using. By default</span>
<span class="sd">        this will be &quot;primary&quot;. Options include &quot;primary&quot; and &quot;secondary&quot;.</span>
<span class="sd">    :param str blob_url: The full URI to the blob. This can also be a URL to the storage account</span>
<span class="sd">        or container, in which case the blob and/or container must also be specified.</span>
<span class="sd">    :param container: The container for the blob. If specified, this value will override</span>
<span class="sd">        a container value specified in the blob URL.</span>
<span class="sd">    :type container: str or ~azure.storage.blob.models.ContainerProperties</span>
<span class="sd">    :param blob: The blob with which to interact. If specified, this value will override</span>
<span class="sd">        a blob value specified in the blob URL.</span>
<span class="sd">    :type blob: str or ~azure.storage.blob.models.BlobProperties</span>
<span class="sd">    :param str snapshot:</span>
<span class="sd">        The optional blob snapshot on which to operate.</span>
<span class="sd">    :param credential:</span>
<span class="sd">        The credentials with which to authenticate. This is optional if the</span>
<span class="sd">        account URL already has a SAS token. The value can be a SAS token string, and account</span>
<span class="sd">        shared access key, or an instance of a TokenCredentials class from azure.identity.</span>
<span class="sd">        If the URL already has a SAS token, specifying an explicit credential will take priority.</span>

<span class="sd">    Example:</span>
<span class="sd">        .. literalinclude:: ../tests/test_blob_samples_authentication_async.py</span>
<span class="sd">            :start-after: [START create_blob_client]</span>
<span class="sd">            :end-before: [END create_blob_client]</span>
<span class="sd">            :language: python</span>
<span class="sd">            :dedent: 8</span>
<span class="sd">            :caption: Creating the BlobClient from a URL to a public blob (no auth needed).</span>

<span class="sd">        .. literalinclude:: ../tests/test_blob_samples_authentication_async.py</span>
<span class="sd">            :start-after: [START create_blob_client_sas_url]</span>
<span class="sd">            :end-before: [END create_blob_client_sas_url]</span>
<span class="sd">            :language: python</span>
<span class="sd">            :dedent: 8</span>
<span class="sd">            :caption: Creating the BlobClient from a SAS URL to a blob.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">blob_url</span><span class="p">,</span>  <span class="c1"># type: str</span>
            <span class="n">container</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># type: Optional[Union[str, ContainerProperties]]</span>
            <span class="n">blob</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># type: Optional[Union[str, BlobProperties]]</span>
            <span class="n">snapshot</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># type: Optional[Union[str, Dict[str, Any]]]</span>
            <span class="n">credential</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># type: Optional[Any]</span>
            <span class="n">loop</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># type: Any</span>
            <span class="o">**</span><span class="n">kwargs</span>  <span class="c1"># type: Any</span>
        <span class="p">):</span>
        <span class="c1"># type: (...) -&gt; None</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;retry_policy&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;retry_policy&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">ExponentialRetry</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">BlobClient</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">blob_url</span><span class="p">,</span>
            <span class="n">container</span><span class="o">=</span><span class="n">container</span><span class="p">,</span>
            <span class="n">blob</span><span class="o">=</span><span class="n">blob</span><span class="p">,</span>
            <span class="n">snapshot</span><span class="o">=</span><span class="n">snapshot</span><span class="p">,</span>
            <span class="n">credential</span><span class="o">=</span><span class="n">credential</span><span class="p">,</span>
            <span class="n">loop</span><span class="o">=</span><span class="n">loop</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_client</span> <span class="o">=</span> <span class="n">AzureBlobStorage</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="n">pipeline</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_pipeline</span><span class="p">,</span> <span class="n">loop</span><span class="o">=</span><span class="n">loop</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_loop</span> <span class="o">=</span> <span class="n">loop</span>

<div class="viewcode-block" id="BlobClient.get_account_information"><a class="viewcode-back" href="../../../../../ref/azure.storage.blob.aio.html#azure.storage.blob.aio.blob_client_async.BlobClient.get_account_information">[docs]</a>    <span class="nd">@distributed_trace_async</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">get_account_information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span> <span class="c1"># type: ignore</span>
        <span class="c1"># type: (Optional[int]) -&gt; Dict[str, str]</span>
        <span class="sd">&quot;&quot;&quot;Gets information related to the storage account in which the blob resides.</span>

<span class="sd">        The information can also be retrieved if the user has a SAS to a container or blob.</span>
<span class="sd">        The keys in the returned dictionary include &#39;sku_name&#39; and &#39;account_kind&#39;.</span>

<span class="sd">        :returns: A dict of account information (SKU and account type).</span>
<span class="sd">        :rtype: dict(str, str)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">blob</span><span class="o">.</span><span class="n">get_account_info</span><span class="p">(</span><span class="bp">cls</span><span class="o">=</span><span class="n">return_response_headers</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="c1"># type: ignore</span>
        <span class="k">except</span> <span class="n">StorageErrorException</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">process_storage_error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span></div>

<div class="viewcode-block" id="BlobClient.upload_blob"><a class="viewcode-back" href="../../../../../ref/azure.storage.blob.aio.html#azure.storage.blob.aio.blob_client_async.BlobClient.upload_blob">[docs]</a>    <span class="nd">@distributed_trace_async</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">upload_blob</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span>  <span class="c1"># type: Union[Iterable[AnyStr], IO[AnyStr]]</span>
            <span class="n">blob_type</span><span class="o">=</span><span class="n">BlobType</span><span class="o">.</span><span class="n">BlockBlob</span><span class="p">,</span>  <span class="c1"># type: Union[str, BlobType]</span>
            <span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>  <span class="c1"># type: bool</span>
            <span class="n">length</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># type: Optional[int]</span>
            <span class="n">metadata</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># type: Optional[Dict[str, str]]</span>
            <span class="n">content_settings</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># type: Optional[ContentSettings]</span>
            <span class="n">validate_content</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>  <span class="c1"># type: Optional[bool]</span>
            <span class="n">max_connections</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>  <span class="c1"># type: int</span>
            <span class="o">**</span><span class="n">kwargs</span>
        <span class="p">):</span>
        <span class="c1"># type: (...) -&gt; Any</span>
        <span class="sd">&quot;&quot;&quot;Creates a new blob from a data source with automatic chunking.</span>

<span class="sd">        :param data: The blob data to upload.</span>
<span class="sd">        :param ~azure.storage.blob.models.BlobType blob_type: The type of the blob. This can be</span>
<span class="sd">            either BlockBlob, PageBlob or AppendBlob. The default value is BlockBlob.</span>
<span class="sd">        :param bool overwrite: Whether the blob to be uploaded should overwrite the current data.</span>
<span class="sd">            If True, upload_blob will silently overwrite the existing data. If set to False, the</span>
<span class="sd">            operation will fail with ResourceExistsError. The exception to the above is with Append</span>
<span class="sd">            blob types. In this case, if data already exists, an error will not be raised and</span>
<span class="sd">            the data will be appended to the existing blob. If you set overwrite=True, then the existing</span>
<span class="sd">            blob will be deleted, and a new one created.</span>
<span class="sd">        :param int length:</span>
<span class="sd">            Number of bytes to read from the stream. This is optional, but</span>
<span class="sd">            should be supplied for optimal performance.</span>
<span class="sd">        :param metadata:</span>
<span class="sd">            Name-value pairs associated with the blob as metadata.</span>
<span class="sd">        :type metadata: dict(str, str)</span>
<span class="sd">        :param ~azure.storage.blob.models.ContentSettings content_settings:</span>
<span class="sd">            ContentSettings object used to set blob properties.</span>
<span class="sd">        :param bool validate_content:</span>
<span class="sd">            If true, calculates an MD5 hash for each chunk of the blob. The storage</span>
<span class="sd">            service checks the hash of the content that has arrived with the hash</span>
<span class="sd">            that was sent. This is primarily valuable for detecting bitflips on</span>
<span class="sd">            the wire if using http instead of https as https (the default) will</span>
<span class="sd">            already validate. Note that this MD5 hash is not stored with the</span>
<span class="sd">            blob. Also note that if enabled, the memory-efficient upload algorithm</span>
<span class="sd">            will not be used, because computing the MD5 hash requires buffering</span>
<span class="sd">            entire blocks, and doing so defeats the purpose of the memory-efficient algorithm.</span>
<span class="sd">        :param ~azure.storage.blob.aio.lease_async.LeaseClient lease:</span>
<span class="sd">            If specified, upload_blob only succeeds if the</span>
<span class="sd">            blob&#39;s lease is active and matches this ID.</span>
<span class="sd">            Required if the blob has an active lease.</span>
<span class="sd">        :param datetime if_modified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this header to perform the operation only</span>
<span class="sd">            if the resource has been modified since the specified time.</span>
<span class="sd">        :param datetime if_unmodified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this header to perform the operation only if</span>
<span class="sd">            the resource has not been modified since the specified date/time.</span>
<span class="sd">        :param str if_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify this header to perform</span>
<span class="sd">            the operation only if the resource&#39;s ETag matches the value specified.</span>
<span class="sd">        :param str if_none_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify this header</span>
<span class="sd">            to perform the operation only if the resource&#39;s ETag does not match</span>
<span class="sd">            the value specified. Specify the wildcard character (*) to perform</span>
<span class="sd">            the operation only if the resource does not exist, and fail the</span>
<span class="sd">            operation if it does exist.</span>
<span class="sd">        :param ~azure.storage.blob.models.PremiumPageBlobTier premium_page_blob_tier:</span>
<span class="sd">            A page blob tier value to set the blob to. The tier correlates to the size of the</span>
<span class="sd">            blob and number of allowed IOPS. This is only applicable to page blobs on</span>
<span class="sd">            premium storage accounts.</span>
<span class="sd">        :param int maxsize_condition:</span>
<span class="sd">            Optional conditional header. The max length in bytes permitted for</span>
<span class="sd">            the append blob. If the Append Block operation would cause the blob</span>
<span class="sd">            to exceed that limit or if the blob size is already greater than the</span>
<span class="sd">            value specified in this header, the request will fail with</span>
<span class="sd">            MaxBlobSizeConditionNotMet error (HTTP status code 412 - Precondition Failed).</span>
<span class="sd">        :param int max_connections:</span>
<span class="sd">            Maximum number of parallel connections to use when the blob size exceeds</span>
<span class="sd">            64MB.</span>
<span class="sd">        :param ~azure.storage.blob.models.CustomerProvidedEncryptionKey cpk:</span>
<span class="sd">            Encrypts the data on the service-side with the given key.</span>
<span class="sd">            Use of customer-provided keys must be done over HTTPS.</span>
<span class="sd">            As the encryption key itself is provided in the request,</span>
<span class="sd">            a secure connection must be established to transfer the key.</span>
<span class="sd">        :param str encoding:</span>
<span class="sd">            Defaults to UTF-8.</span>
<span class="sd">        :param int timeout:</span>
<span class="sd">            The timeout parameter is expressed in seconds. This method may make</span>
<span class="sd">            multiple calls to the Azure service and the timeout will apply to</span>
<span class="sd">            each call individually.</span>
<span class="sd">        :returns: Blob-updated property dict (Etag and last modified)</span>
<span class="sd">        :rtype: dict[str, Any]</span>

<span class="sd">        Example:</span>
<span class="sd">            .. literalinclude:: ../tests/test_blob_samples_hello_world_async.py</span>
<span class="sd">                :start-after: [START upload_a_blob]</span>
<span class="sd">                :end-before: [END upload_a_blob]</span>
<span class="sd">                :language: python</span>
<span class="sd">                :dedent: 12</span>
<span class="sd">                :caption: Upload a blob to the container.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">options</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_upload_blob_options</span><span class="p">(</span>
            <span class="n">data</span><span class="p">,</span>
            <span class="n">blob_type</span><span class="o">=</span><span class="n">blob_type</span><span class="p">,</span>
            <span class="n">overwrite</span><span class="o">=</span><span class="n">overwrite</span><span class="p">,</span>
            <span class="n">length</span><span class="o">=</span><span class="n">length</span><span class="p">,</span>
            <span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">,</span>
            <span class="n">content_settings</span><span class="o">=</span><span class="n">content_settings</span><span class="p">,</span>
            <span class="n">validate_content</span><span class="o">=</span><span class="n">validate_content</span><span class="p">,</span>
            <span class="n">max_connections</span><span class="o">=</span><span class="n">max_connections</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">blob_type</span> <span class="o">==</span> <span class="n">BlobType</span><span class="o">.</span><span class="n">BlockBlob</span><span class="p">:</span>
            <span class="k">return</span> <span class="k">await</span> <span class="n">upload_block_blob</span><span class="p">(</span><span class="o">**</span><span class="n">options</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">blob_type</span> <span class="o">==</span> <span class="n">BlobType</span><span class="o">.</span><span class="n">PageBlob</span><span class="p">:</span>
            <span class="k">return</span> <span class="k">await</span> <span class="n">upload_page_blob</span><span class="p">(</span><span class="o">**</span><span class="n">options</span><span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="n">upload_append_blob</span><span class="p">(</span><span class="o">**</span><span class="n">options</span><span class="p">)</span></div>

<div class="viewcode-block" id="BlobClient.download_blob"><a class="viewcode-back" href="../../../../../ref/azure.storage.blob.aio.html#azure.storage.blob.aio.blob_client_async.BlobClient.download_blob">[docs]</a>    <span class="nd">@distributed_trace_async</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">download_blob</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">validate_content</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1"># type: (Optional[int], Optional[int], bool, Any) -&gt; Iterable[bytes]</span>
        <span class="sd">&quot;&quot;&quot;Downloads a blob to a stream with automatic chunking.</span>

<span class="sd">        :param int offset:</span>
<span class="sd">            Start of byte range to use for downloading a section of the blob.</span>
<span class="sd">            Must be set if length is provided.</span>
<span class="sd">        :param int length:</span>
<span class="sd">            Number of bytes to read from the stream. This is optional, but</span>
<span class="sd">            should be supplied for optimal performance.</span>
<span class="sd">        :param bool validate_content:</span>
<span class="sd">            If true, calculates an MD5 hash for each chunk of the blob. The storage</span>
<span class="sd">            service checks the hash of the content that has arrived with the hash</span>
<span class="sd">            that was sent. This is primarily valuable for detecting bitflips on</span>
<span class="sd">            the wire if using http instead of https as https (the default) will</span>
<span class="sd">            already validate. Note that this MD5 hash is not stored with the</span>
<span class="sd">            blob. Also note that if enabled, the memory-efficient upload algorithm</span>
<span class="sd">            will not be used, because computing the MD5 hash requires buffering</span>
<span class="sd">            entire blocks, and doing so defeats the purpose of the memory-efficient algorithm.</span>
<span class="sd">        :param lease:</span>
<span class="sd">            If specified, download_blob only succeeds if the blob&#39;s lease is active</span>
<span class="sd">            and matches this ID. Required if the blob has an active lease.</span>
<span class="sd">        :type lease: ~azure.storage.blob.aio.lease_async.LeaseClient or str</span>
<span class="sd">        :param datetime if_modified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this header to perform the operation only</span>
<span class="sd">            if the resource has been modified since the specified time.</span>
<span class="sd">        :param datetime if_unmodified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this header to perform the operation only if</span>
<span class="sd">            the resource has not been modified since the specified date/time.</span>
<span class="sd">        :param str if_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify this header to perform</span>
<span class="sd">            the operation only if the resource&#39;s ETag matches the value specified.</span>
<span class="sd">        :param str if_none_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify this header</span>
<span class="sd">            to perform the operation only if the resource&#39;s ETag does not match</span>
<span class="sd">            the value specified. Specify the wildcard character (*) to perform</span>
<span class="sd">            the operation only if the resource does not exist, and fail the</span>
<span class="sd">            operation if it does exist.</span>
<span class="sd">        :param ~azure.storage.blob.models.CustomerProvidedEncryptionKey cpk:</span>
<span class="sd">            Encrypts the data on the service-side with the given key.</span>
<span class="sd">            Use of customer-provided keys must be done over HTTPS.</span>
<span class="sd">            As the encryption key itself is provided in the request,</span>
<span class="sd">            a secure connection must be established to transfer the key.</span>
<span class="sd">        :param int timeout:</span>
<span class="sd">            The timeout parameter is expressed in seconds. This method may make</span>
<span class="sd">            multiple calls to the Azure service and the timeout will apply to</span>
<span class="sd">            each call individually.</span>
<span class="sd">        :returns: A iterable data generator (stream)</span>
<span class="sd">        :rtype: ~azure.storage.blob._blob_utils.StorageStreamDownloader</span>

<span class="sd">        Example:</span>
<span class="sd">            .. literalinclude:: ../tests/test_blob_samples_hello_world_async.py</span>
<span class="sd">                :start-after: [START download_a_blob]</span>
<span class="sd">                :end-before: [END download_a_blob]</span>
<span class="sd">                :language: python</span>
<span class="sd">                :dedent: 12</span>
<span class="sd">                :caption: Download a blob.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">options</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_download_blob_options</span><span class="p">(</span>
            <span class="n">offset</span><span class="o">=</span><span class="n">offset</span><span class="p">,</span>
            <span class="n">length</span><span class="o">=</span><span class="n">length</span><span class="p">,</span>
            <span class="n">validate_content</span><span class="o">=</span><span class="n">validate_content</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">extra_properties</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">blob_name</span><span class="p">,</span>
            <span class="s1">&#39;container&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">container_name</span>
        <span class="p">}</span>
        <span class="n">downloader</span> <span class="o">=</span> <span class="n">StorageStreamDownloader</span><span class="p">(</span><span class="o">**</span><span class="n">options</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">downloader</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">extra_properties</span><span class="o">=</span><span class="n">extra_properties</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">downloader</span></div>

<div class="viewcode-block" id="BlobClient.delete_blob"><a class="viewcode-back" href="../../../../../ref/azure.storage.blob.aio.html#azure.storage.blob.aio.blob_client_async.BlobClient.delete_blob">[docs]</a>    <span class="nd">@distributed_trace_async</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">delete_blob</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">delete_snapshots</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1"># type: (bool, Any) -&gt; None</span>
        <span class="sd">&quot;&quot;&quot;Marks the specified blob for deletion.</span>

<span class="sd">        The blob is later deleted during garbage collection.</span>
<span class="sd">        Note that in order to delete a blob, you must delete all of its</span>
<span class="sd">        snapshots. You can delete both at the same time with the Delete</span>
<span class="sd">        Blob operation.</span>

<span class="sd">        If a delete retention policy is enabled for the service, then this operation soft deletes the blob</span>
<span class="sd">        and retains the blob for a specified number of days.</span>
<span class="sd">        After the specified number of days, the blob&#39;s data is removed from the service during garbage collection.</span>
<span class="sd">        Soft deleted blob is accessible through List Blobs API specifying `include=&#39;deleted&#39;` option.</span>
<span class="sd">        Soft-deleted blob can be restored using Undelete API.</span>

<span class="sd">        :param str delete_snapshots:</span>
<span class="sd">            Required if the blob has associated snapshots. Values include:</span>
<span class="sd">             - &quot;only&quot;: Deletes only the blobs snapshots.</span>
<span class="sd">             - &quot;include&quot;: Deletes the blob along with all snapshots.</span>
<span class="sd">        :param lease:</span>
<span class="sd">            Required if the blob has an active lease. Value can be a LeaseClient object</span>
<span class="sd">            or the lease ID as a string.</span>
<span class="sd">        :type lease: ~azure.storage.blob.aio.lease_async.LeaseClient or str</span>
<span class="sd">        :param datetime if_modified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this header to perform the operation only</span>
<span class="sd">            if the resource has been modified since the specified time.</span>
<span class="sd">        :param datetime if_unmodified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this header to perform the operation only if</span>
<span class="sd">            the resource has not been modified since the specified date/time.</span>
<span class="sd">        :param str if_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify this header to perform</span>
<span class="sd">            the operation only if the resource&#39;s ETag matches the value specified.</span>
<span class="sd">        :param str if_none_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify this header</span>
<span class="sd">            to perform the operation only if the resource&#39;s ETag does not match</span>
<span class="sd">            the value specified. Specify the wildcard character (*) to perform</span>
<span class="sd">            the operation only if the resource does not exist, and fail the</span>
<span class="sd">            operation if it does exist.</span>
<span class="sd">        :param int timeout:</span>
<span class="sd">            The timeout parameter is expressed in seconds.</span>
<span class="sd">        :rtype: None</span>

<span class="sd">        Example:</span>
<span class="sd">            .. literalinclude:: ../tests/test_blob_samples_hello_world_async.py</span>
<span class="sd">                :start-after: [START delete_blob]</span>
<span class="sd">                :end-before: [END delete_blob]</span>
<span class="sd">                :language: python</span>
<span class="sd">                :dedent: 12</span>
<span class="sd">                :caption: Delete a blob.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">options</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_delete_blob_options</span><span class="p">(</span><span class="n">delete_snapshots</span><span class="o">=</span><span class="n">delete_snapshots</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">blob</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="o">**</span><span class="n">options</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">StorageErrorException</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">process_storage_error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span></div>

<div class="viewcode-block" id="BlobClient.undelete_blob"><a class="viewcode-back" href="../../../../../ref/azure.storage.blob.aio.html#azure.storage.blob.aio.blob_client_async.BlobClient.undelete_blob">[docs]</a>    <span class="nd">@distributed_trace_async</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">undelete_blob</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1"># type: (Any) -&gt; None</span>
        <span class="sd">&quot;&quot;&quot;Restores soft-deleted blobs or snapshots.</span>

<span class="sd">        Operation will only be successful if used within the specified number of days</span>
<span class="sd">        set in the delete retention policy.</span>

<span class="sd">        :param int timeout:</span>
<span class="sd">            The timeout parameter is expressed in seconds.</span>
<span class="sd">        :rtype: None</span>

<span class="sd">        Example:</span>
<span class="sd">            .. literalinclude:: ../tests/test_blob_samples_common_async.py</span>
<span class="sd">                :start-after: [START undelete_blob]</span>
<span class="sd">                :end-before: [END undelete_blob]</span>
<span class="sd">                :language: python</span>
<span class="sd">                :dedent: 8</span>
<span class="sd">                :caption: Undeleting a blob.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">blob</span><span class="o">.</span><span class="n">undelete</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;timeout&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">StorageErrorException</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">process_storage_error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span></div>

<div class="viewcode-block" id="BlobClient.get_blob_properties"><a class="viewcode-back" href="../../../../../ref/azure.storage.blob.aio.html#azure.storage.blob.aio.blob_client_async.BlobClient.get_blob_properties">[docs]</a>    <span class="nd">@distributed_trace_async</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">get_blob_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1"># type: (Any) -&gt; BlobProperties</span>
        <span class="sd">&quot;&quot;&quot;Returns all user-defined metadata, standard HTTP properties, and</span>
<span class="sd">        system properties for the blob. It does not return the content of the blob.</span>

<span class="sd">        :param lease:</span>
<span class="sd">            Required if the blob has an active lease. Value can be a LeaseClient object</span>
<span class="sd">            or the lease ID as a string.</span>
<span class="sd">        :type lease: ~azure.storage.blob.aio.lease_async.LeaseClient or str</span>
<span class="sd">        :param datetime if_modified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this header to perform the operation only</span>
<span class="sd">            if the resource has been modified since the specified time.</span>
<span class="sd">        :param datetime if_unmodified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this header to perform the operation only if</span>
<span class="sd">            the resource has not been modified since the specified date/time.</span>
<span class="sd">        :param str if_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify this header to perform</span>
<span class="sd">            the operation only if the resource&#39;s ETag matches the value specified.</span>
<span class="sd">        :param str if_none_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify this header</span>
<span class="sd">            to perform the operation only if the resource&#39;s ETag does not match</span>
<span class="sd">            the value specified. Specify the wildcard character (*) to perform</span>
<span class="sd">            the operation only if the resource does not exist, and fail the</span>
<span class="sd">            operation if it does exist.</span>
<span class="sd">        :param ~azure.storage.blob.models.CustomerProvidedEncryptionKey cpk:</span>
<span class="sd">            Encrypts the data on the service-side with the given key.</span>
<span class="sd">            Use of customer-provided keys must be done over HTTPS.</span>
<span class="sd">            As the encryption key itself is provided in the request,</span>
<span class="sd">            a secure connection must be established to transfer the key.</span>
<span class="sd">        :param int timeout:</span>
<span class="sd">            The timeout parameter is expressed in seconds.</span>
<span class="sd">        :returns: BlobProperties</span>
<span class="sd">        :rtype: ~azure.storage.blob.models.BlobProperties</span>

<span class="sd">        Example:</span>
<span class="sd">            .. literalinclude:: ../tests/test_blob_samples_common_async.py</span>
<span class="sd">                :start-after: [START get_blob_properties]</span>
<span class="sd">                :end-before: [END get_blob_properties]</span>
<span class="sd">                :language: python</span>
<span class="sd">                :dedent: 8</span>
<span class="sd">                :caption: Getting the properties for a blob.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">access_conditions</span> <span class="o">=</span> <span class="n">get_access_conditions</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;lease&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
        <span class="n">mod_conditions</span> <span class="o">=</span> <span class="n">ModifiedAccessConditions</span><span class="p">(</span>
            <span class="n">if_modified_since</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;if_modified_since&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">if_unmodified_since</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;if_unmodified_since&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">if_match</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;if_match&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">if_none_match</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;if_none_match&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
        <span class="n">cpk</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;cpk&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">cpk_info</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">cpk</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">scheme</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">!=</span> <span class="s1">&#39;https&#39;</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Customer provided encryption key must be used over HTTPS.&quot;</span><span class="p">)</span>
            <span class="n">cpk_info</span> <span class="o">=</span> <span class="n">CpkInfo</span><span class="p">(</span><span class="n">encryption_key</span><span class="o">=</span><span class="n">cpk</span><span class="o">.</span><span class="n">key_value</span><span class="p">,</span> <span class="n">encryption_key_sha256</span><span class="o">=</span><span class="n">cpk</span><span class="o">.</span><span class="n">key_hash</span><span class="p">,</span>
                               <span class="n">encryption_algorithm</span><span class="o">=</span><span class="n">cpk</span><span class="o">.</span><span class="n">algorithm</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">blob_props</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">blob</span><span class="o">.</span><span class="n">get_properties</span><span class="p">(</span>
                <span class="n">timeout</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;timeout&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
                <span class="n">snapshot</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">snapshot</span><span class="p">,</span>
                <span class="n">lease_access_conditions</span><span class="o">=</span><span class="n">access_conditions</span><span class="p">,</span>
                <span class="n">modified_access_conditions</span><span class="o">=</span><span class="n">mod_conditions</span><span class="p">,</span>
                <span class="bp">cls</span><span class="o">=</span><span class="n">deserialize_blob_properties</span><span class="p">,</span>
                <span class="n">cpk_info</span><span class="o">=</span><span class="n">cpk_info</span><span class="p">,</span>
                <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">StorageErrorException</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">process_storage_error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
        <span class="n">blob_props</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">blob_name</span>
        <span class="n">blob_props</span><span class="o">.</span><span class="n">container</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">container_name</span>
        <span class="k">return</span> <span class="n">blob_props</span> <span class="c1"># type: ignore</span></div>

<div class="viewcode-block" id="BlobClient.set_http_headers"><a class="viewcode-back" href="../../../../../ref/azure.storage.blob.aio.html#azure.storage.blob.aio.blob_client_async.BlobClient.set_http_headers">[docs]</a>    <span class="nd">@distributed_trace_async</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">set_http_headers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">content_settings</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1"># type: (Optional[ContentSettings], Any) -&gt; None</span>
        <span class="sd">&quot;&quot;&quot;Sets system properties on the blob.</span>

<span class="sd">        If one property is set for the content_settings, all properties will be overridden.</span>

<span class="sd">        :param ~azure.storage.blob.models.ContentSettings content_settings:</span>
<span class="sd">            ContentSettings object used to set blob properties.</span>
<span class="sd">        :param lease:</span>
<span class="sd">            Required if the blob has an active lease. Value can be a LeaseClient object</span>
<span class="sd">            or the lease ID as a string.</span>
<span class="sd">        :type lease: ~azure.storage.blob.aio.lease_async.LeaseClient or str</span>
<span class="sd">        :param datetime if_modified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this header to perform the operation only</span>
<span class="sd">            if the resource has been modified since the specified time.</span>
<span class="sd">        :param datetime if_unmodified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this header to perform the operation only if</span>
<span class="sd">            the resource has not been modified since the specified date/time.</span>
<span class="sd">        :param str if_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify this header to perform</span>
<span class="sd">            the operation only if the resource&#39;s ETag matches the value specified.</span>
<span class="sd">        :param str if_none_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify this header</span>
<span class="sd">            to perform the operation only if the resource&#39;s ETag does not match</span>
<span class="sd">            the value specified. Specify the wildcard character (*) to perform</span>
<span class="sd">            the operation only if the resource does not exist, and fail the</span>
<span class="sd">            operation if it does exist.</span>
<span class="sd">        :param int timeout:</span>
<span class="sd">            The timeout parameter is expressed in seconds.</span>
<span class="sd">        :returns: Blob-updated property dict (Etag and last modified)</span>
<span class="sd">        :rtype: Dict[str, Any]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">options</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_http_headers_options</span><span class="p">(</span><span class="n">content_settings</span><span class="o">=</span><span class="n">content_settings</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">blob</span><span class="o">.</span><span class="n">set_http_headers</span><span class="p">(</span><span class="o">**</span><span class="n">options</span><span class="p">)</span> <span class="c1"># type: ignore</span>
        <span class="k">except</span> <span class="n">StorageErrorException</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">process_storage_error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span></div>

<div class="viewcode-block" id="BlobClient.set_blob_metadata"><a class="viewcode-back" href="../../../../../ref/azure.storage.blob.aio.html#azure.storage.blob.aio.blob_client_async.BlobClient.set_blob_metadata">[docs]</a>    <span class="nd">@distributed_trace_async</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">set_blob_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1"># type: (Optional[Dict[str, str]], Any) -&gt; Dict[str, Union[str, datetime]]</span>
        <span class="sd">&quot;&quot;&quot;Sets user-defined metadata for the blob as one or more name-value pairs.</span>

<span class="sd">        :param metadata:</span>
<span class="sd">            Dict containing name and value pairs. Each call to this operation</span>
<span class="sd">            replaces all existing metadata attached to the blob. To remove all</span>
<span class="sd">            metadata from the blob, call this operation with no metadata headers.</span>
<span class="sd">        :type metadata: dict(str, str)</span>
<span class="sd">        :param lease:</span>
<span class="sd">            Required if the blob has an active lease. Value can be a LeaseClient object</span>
<span class="sd">            or the lease ID as a string.</span>
<span class="sd">        :type lease: ~azure.storage.blob.aio.lease_async.LeaseClient or str</span>
<span class="sd">        :param datetime if_modified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this header to perform the operation only</span>
<span class="sd">            if the resource has been modified since the specified time.</span>
<span class="sd">        :param datetime if_unmodified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this header to perform the operation only if</span>
<span class="sd">            the resource has not been modified since the specified date/time.</span>
<span class="sd">        :param str if_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify this header to perform</span>
<span class="sd">            the operation only if the resource&#39;s ETag matches the value specified.</span>
<span class="sd">        :param str if_none_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify this header</span>
<span class="sd">            to perform the operation only if the resource&#39;s ETag does not match</span>
<span class="sd">            the value specified. Specify the wildcard character (*) to perform</span>
<span class="sd">            the operation only if the resource does not exist, and fail the</span>
<span class="sd">            operation if it does exist.</span>
<span class="sd">        :param ~azure.storage.blob.models.CustomerProvidedEncryptionKey cpk:</span>
<span class="sd">            Encrypts the data on the service-side with the given key.</span>
<span class="sd">            Use of customer-provided keys must be done over HTTPS.</span>
<span class="sd">            As the encryption key itself is provided in the request,</span>
<span class="sd">            a secure connection must be established to transfer the key.</span>
<span class="sd">        :param int timeout:</span>
<span class="sd">            The timeout parameter is expressed in seconds.</span>
<span class="sd">        :returns: Blob-updated property dict (Etag and last modified)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">options</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_blob_metadata_options</span><span class="p">(</span><span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">blob</span><span class="o">.</span><span class="n">set_metadata</span><span class="p">(</span><span class="o">**</span><span class="n">options</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
        <span class="k">except</span> <span class="n">StorageErrorException</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">process_storage_error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span></div>

<div class="viewcode-block" id="BlobClient.create_page_blob"><a class="viewcode-back" href="../../../../../ref/azure.storage.blob.aio.html#azure.storage.blob.aio.blob_client_async.BlobClient.create_page_blob">[docs]</a>    <span class="nd">@distributed_trace_async</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">create_page_blob</span><span class="p">(</span>  <span class="c1"># type: ignore</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span>  <span class="c1"># type: int</span>
            <span class="n">content_settings</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># type: Optional[ContentSettings]</span>
            <span class="n">sequence_number</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># type: Optional[int]</span>
            <span class="n">metadata</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="c1"># type: Optional[Dict[str, str]]</span>
            <span class="n">premium_page_blob_tier</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># type: Optional[Union[str, PremiumPageBlobTier]]</span>
            <span class="o">**</span><span class="n">kwargs</span>
        <span class="p">):</span>
        <span class="c1"># type: (...) -&gt; Dict[str, Union[str, datetime]]</span>
        <span class="sd">&quot;&quot;&quot;Creates a new Page Blob of the specified size.</span>

<span class="sd">        :param int size:</span>
<span class="sd">            This header specifies the maximum size</span>
<span class="sd">            for the page blob, up to 1 TB. The page blob size must be aligned</span>
<span class="sd">            to a 512-byte boundary.</span>
<span class="sd">        :param ~azure.storage.blob.models.ContentSettings content_settings:</span>
<span class="sd">            ContentSettings object used to set properties on the blob.</span>
<span class="sd">        :param int sequence_number:</span>
<span class="sd">            Only for Page blobs. The sequence number is a user-controlled value that you can use to</span>
<span class="sd">            track requests. The value of the sequence number must be between 0</span>
<span class="sd">            and 2^63 - 1.The default value is 0.</span>
<span class="sd">        :param metadata:</span>
<span class="sd">            Name-value pairs associated with the blob as metadata.</span>
<span class="sd">        :type metadata: dict(str, str)</span>
<span class="sd">        :param lease:</span>
<span class="sd">            Required if the blob has an active lease. Value can be a LeaseClient object</span>
<span class="sd">            or the lease ID as a string.</span>
<span class="sd">        :type lease: ~azure.storage.blob.aio.lease_async.LeaseClient or str</span>
<span class="sd">        :param datetime if_modified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this header to perform the operation only</span>
<span class="sd">            if the resource has been modified since the specified time.</span>
<span class="sd">        :param datetime if_unmodified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this header to perform the operation only if</span>
<span class="sd">            the resource has not been modified since the specified date/time.</span>
<span class="sd">        :param str if_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify this header to perform</span>
<span class="sd">            the operation only if the resource&#39;s ETag matches the value specified.</span>
<span class="sd">        :param str if_none_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify this header</span>
<span class="sd">            to perform the operation only if the resource&#39;s ETag does not match</span>
<span class="sd">            the value specified. Specify the wildcard character (*) to perform</span>
<span class="sd">            the operation only if the resource does not exist, and fail the</span>
<span class="sd">            operation if it does exist.</span>
<span class="sd">        :param ~azure.storage.blob.models.CustomerProvidedEncryptionKey cpk:</span>
<span class="sd">            Encrypts the data on the service-side with the given key.</span>
<span class="sd">            Use of customer-provided keys must be done over HTTPS.</span>
<span class="sd">            As the encryption key itself is provided in the request,</span>
<span class="sd">            a secure connection must be established to transfer the key.</span>
<span class="sd">        :param int timeout:</span>
<span class="sd">            The timeout parameter is expressed in seconds.</span>
<span class="sd">        :param ~azure.storage.blob.models.PremiumPageBlobTier premium_page_blob_tier:</span>
<span class="sd">            A page blob tier value to set the blob to. The tier correlates to the size of the</span>
<span class="sd">            blob and number of allowed IOPS. This is only applicable to page blobs on</span>
<span class="sd">            premium storage accounts.</span>
<span class="sd">        :returns: Blob-updated property dict (Etag and last modified).</span>
<span class="sd">        :rtype: dict[str, Any]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">options</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_page_blob_options</span><span class="p">(</span>
            <span class="n">size</span><span class="p">,</span>
            <span class="n">content_settings</span><span class="o">=</span><span class="n">content_settings</span><span class="p">,</span>
            <span class="n">sequence_number</span><span class="o">=</span><span class="n">sequence_number</span><span class="p">,</span>
            <span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">,</span>
            <span class="n">premium_page_blob_tier</span><span class="o">=</span><span class="n">premium_page_blob_tier</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">page_blob</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="o">**</span><span class="n">options</span><span class="p">)</span> <span class="c1"># type: ignore</span>
        <span class="k">except</span> <span class="n">StorageErrorException</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">process_storage_error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span></div>

<div class="viewcode-block" id="BlobClient.create_append_blob"><a class="viewcode-back" href="../../../../../ref/azure.storage.blob.aio.html#azure.storage.blob.aio.blob_client_async.BlobClient.create_append_blob">[docs]</a>    <span class="nd">@distributed_trace_async</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">create_append_blob</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">content_settings</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1"># type: (Optional[ContentSettings], Optional[Dict[str, str]], Any) -&gt; Dict[str, Union[str, datetime]]</span>
        <span class="sd">&quot;&quot;&quot;Creates a new Append Blob.</span>

<span class="sd">        :param ~azure.storage.blob.models.ContentSettings content_settings:</span>
<span class="sd">            ContentSettings object used to set properties on the blob.</span>
<span class="sd">        :param metadata:</span>
<span class="sd">            Name-value pairs associated with the blob as metadata.</span>
<span class="sd">        :type metadata: dict(str, str)</span>
<span class="sd">        :param lease:</span>
<span class="sd">            Required if the blob has an active lease. Value can be a LeaseClient object</span>
<span class="sd">            or the lease ID as a string.</span>
<span class="sd">        :type lease: ~azure.storage.blob.aio.lease_async.LeaseClient or str</span>
<span class="sd">        :param datetime if_modified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this header to perform the operation only</span>
<span class="sd">            if the resource has been modified since the specified time.</span>
<span class="sd">        :param datetime if_unmodified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this header to perform the operation only if</span>
<span class="sd">            the resource has not been modified since the specified date/time.</span>
<span class="sd">        :param str if_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify this header to perform</span>
<span class="sd">            the operation only if the resource&#39;s ETag matches the value specified.</span>
<span class="sd">        :param str if_none_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify this header</span>
<span class="sd">            to perform the operation only if the resource&#39;s ETag does not match</span>
<span class="sd">            the value specified. Specify the wildcard character (*) to perform</span>
<span class="sd">            the operation only if the resource does not exist, and fail the</span>
<span class="sd">            operation if it does exist.</span>
<span class="sd">        :param ~azure.storage.blob.models.CustomerProvidedEncryptionKey cpk:</span>
<span class="sd">            Encrypts the data on the service-side with the given key.</span>
<span class="sd">            Use of customer-provided keys must be done over HTTPS.</span>
<span class="sd">            As the encryption key itself is provided in the request,</span>
<span class="sd">            a secure connection must be established to transfer the key.</span>
<span class="sd">        :param int timeout:</span>
<span class="sd">            The timeout parameter is expressed in seconds.</span>
<span class="sd">        :returns: Blob-updated property dict (Etag and last modified).</span>
<span class="sd">        :rtype: dict[str, Any]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">options</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_append_blob_options</span><span class="p">(</span>
            <span class="n">content_settings</span><span class="o">=</span><span class="n">content_settings</span><span class="p">,</span>
            <span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">append_blob</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="o">**</span><span class="n">options</span><span class="p">)</span> <span class="c1"># type: ignore</span>
        <span class="k">except</span> <span class="n">StorageErrorException</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">process_storage_error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span></div>

<div class="viewcode-block" id="BlobClient.create_snapshot"><a class="viewcode-back" href="../../../../../ref/azure.storage.blob.aio.html#azure.storage.blob.aio.blob_client_async.BlobClient.create_snapshot">[docs]</a>    <span class="nd">@distributed_trace_async</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">create_snapshot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1"># type: (Optional[Dict[str, str]], Any) -&gt; Dict[str, Union[str, datetime]]</span>
        <span class="sd">&quot;&quot;&quot;Creates a snapshot of the blob.</span>

<span class="sd">        A snapshot is a read-only version of a blob that&#39;s taken at a point in time.</span>
<span class="sd">        It can be read, copied, or deleted, but not modified. Snapshots provide a way</span>
<span class="sd">        to back up a blob as it appears at a moment in time.</span>

<span class="sd">        A snapshot of a blob has the same name as the base blob from which the snapshot</span>
<span class="sd">        is taken, with a DateTime value appended to indicate the time at which the</span>
<span class="sd">        snapshot was taken.</span>

<span class="sd">        :param metadata:</span>
<span class="sd">            Name-value pairs associated with the blob as metadata.</span>
<span class="sd">        :type metadata: dict(str, str)</span>
<span class="sd">        :param datetime if_modified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this header to perform the operation only</span>
<span class="sd">            if the resource has been modified since the specified time.</span>
<span class="sd">        :param datetime if_unmodified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this header to perform the operation only if</span>
<span class="sd">            the resource has not been modified since the specified date/time.</span>
<span class="sd">        :param str if_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify this header to perform</span>
<span class="sd">            the operation only if the resource&#39;s ETag matches the value specified.</span>
<span class="sd">        :param str if_none_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify this header</span>
<span class="sd">            to perform the operation only if the resource&#39;s ETag does not match</span>
<span class="sd">            the value specified. Specify the wildcard character (*) to perform</span>
<span class="sd">            the operation only if the resource does not exist, and fail the</span>
<span class="sd">            operation if it does exist.</span>
<span class="sd">        :param lease:</span>
<span class="sd">            Required if the blob has an active lease. Value can be a LeaseClient object</span>
<span class="sd">            or the lease ID as a string.</span>
<span class="sd">        :type lease: ~azure.storage.blob.aio.lease_async.LeaseClient or str</span>
<span class="sd">        :param ~azure.storage.blob.models.CustomerProvidedEncryptionKey cpk:</span>
<span class="sd">            Encrypts the data on the service-side with the given key.</span>
<span class="sd">            Use of customer-provided keys must be done over HTTPS.</span>
<span class="sd">            As the encryption key itself is provided in the request,</span>
<span class="sd">            a secure connection must be established to transfer the key.</span>
<span class="sd">        :param int timeout:</span>
<span class="sd">            The timeout parameter is expressed in seconds.</span>
<span class="sd">        :returns: Blob-updated property dict (Snapshot ID, Etag, and last modified).</span>
<span class="sd">        :rtype: dict[str, Any]</span>

<span class="sd">        Example:</span>
<span class="sd">            .. literalinclude:: ../tests/test_blob_samples_common_async.py</span>
<span class="sd">                :start-after: [START create_blob_snapshot]</span>
<span class="sd">                :end-before: [END create_blob_snapshot]</span>
<span class="sd">                :language: python</span>
<span class="sd">                :dedent: 8</span>
<span class="sd">                :caption: Create a snapshot of the blob.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">options</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_snapshot_options</span><span class="p">(</span><span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">blob</span><span class="o">.</span><span class="n">create_snapshot</span><span class="p">(</span><span class="o">**</span><span class="n">options</span><span class="p">)</span> <span class="c1"># type: ignore</span>
        <span class="k">except</span> <span class="n">StorageErrorException</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">process_storage_error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span></div>

<div class="viewcode-block" id="BlobClient.start_copy_from_url"><a class="viewcode-back" href="../../../../../ref/azure.storage.blob.aio.html#azure.storage.blob.aio.blob_client_async.BlobClient.start_copy_from_url">[docs]</a>    <span class="nd">@distributed_trace_async</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">start_copy_from_url</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">source_url</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">incremental_copy</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1"># type: (str, Optional[Dict[str, str]], bool, Any) -&gt; Any</span>
        <span class="sd">&quot;&quot;&quot;Copies a blob asynchronously.</span>

<span class="sd">        This operation returns a copy operation</span>
<span class="sd">        object that can be used to wait on the completion of the operation,</span>
<span class="sd">        as well as check status or abort the copy operation.</span>
<span class="sd">        The Blob service copies blobs on a best-effort basis.</span>

<span class="sd">        The source blob for a copy operation may be a block blob, an append blob,</span>
<span class="sd">        or a page blob. If the destination blob already exists, it must be of the</span>
<span class="sd">        same blob type as the source blob. Any existing destination blob will be</span>
<span class="sd">        overwritten. The destination blob cannot be modified while a copy operation</span>
<span class="sd">        is in progress.</span>

<span class="sd">        When copying from a page blob, the Blob service creates a destination page</span>
<span class="sd">        blob of the source blob&#39;s length, initially containing all zeroes. Then</span>
<span class="sd">        the source page ranges are enumerated, and non-empty ranges are copied.</span>

<span class="sd">        For a block blob or an append blob, the Blob service creates a committed</span>
<span class="sd">        blob of zero length before returning from this operation. When copying</span>
<span class="sd">        from a block blob, all committed blocks and their block IDs are copied.</span>
<span class="sd">        Uncommitted blocks are not copied. At the end of the copy operation, the</span>
<span class="sd">        destination blob will have the same committed block count as the source.</span>

<span class="sd">        When copying from an append blob, all committed blocks are copied. At the</span>
<span class="sd">        end of the copy operation, the destination blob will have the same committed</span>
<span class="sd">        block count as the source.</span>

<span class="sd">        For all blob types, you can call status() on the returned polling object</span>
<span class="sd">        to check the status of the copy operation, or wait() to block until the</span>
<span class="sd">        operation is complete. The final blob will be committed when the copy completes.</span>

<span class="sd">        :param str source_url:</span>
<span class="sd">            A URL of up to 2 KB in length that specifies an Azure file or blob.</span>
<span class="sd">            The value should be URL-encoded as it would appear in a request URI.</span>
<span class="sd">            If the source is in another account, the source must either be public</span>
<span class="sd">            or must be authenticated via a shared access signature. If the source</span>
<span class="sd">            is public, no authentication is required.</span>
<span class="sd">            Examples:</span>
<span class="sd">            https://myaccount.blob.core.windows.net/mycontainer/myblob</span>

<span class="sd">            https://myaccount.blob.core.windows.net/mycontainer/myblob?snapshot=&lt;DateTime&gt;</span>

<span class="sd">            https://otheraccount.blob.core.windows.net/mycontainer/myblob?sastoken</span>
<span class="sd">        :param metadata:</span>
<span class="sd">            Name-value pairs associated with the blob as metadata. If no name-value</span>
<span class="sd">            pairs are specified, the operation will copy the metadata from the</span>
<span class="sd">            source blob or file to the destination blob. If one or more name-value</span>
<span class="sd">            pairs are specified, the destination blob is created with the specified</span>
<span class="sd">            metadata, and metadata is not copied from the source blob or file.</span>
<span class="sd">        :type metadata: dict(str, str)</span>
<span class="sd">        :param datetime source_if_modified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this conditional header to copy the blob only if the source</span>
<span class="sd">            blob has been modified since the specified date/time.</span>
<span class="sd">        :param datetime source_if_unmodified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this conditional header to copy the blob only if the source blob</span>
<span class="sd">            has not been modified since the specified date/time.</span>
<span class="sd">        :param str source_if_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify this conditional</span>
<span class="sd">            header to copy the source blob only if its ETag matches the value</span>
<span class="sd">            specified. If the ETag values do not match, the Blob service returns</span>
<span class="sd">            status code 412 (Precondition Failed). This header cannot be specified</span>
<span class="sd">            if the source is an Azure File.</span>
<span class="sd">        :param str source_if_none_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify this conditional</span>
<span class="sd">            header to copy the blob only if its ETag does not match the value</span>
<span class="sd">            specified. If the values are identical, the Blob service returns status</span>
<span class="sd">            code 412 (Precondition Failed). This header cannot be specified if the</span>
<span class="sd">            source is an Azure File.</span>
<span class="sd">        :param datetime destination_if_modified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this conditional header to copy the blob only</span>
<span class="sd">            if the destination blob has been modified since the specified date/time.</span>
<span class="sd">            If the destination blob has not been modified, the Blob service returns</span>
<span class="sd">            status code 412 (Precondition Failed).</span>
<span class="sd">        :param datetime destination_if_unmodified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this conditional header to copy the blob only</span>
<span class="sd">            if the destination blob has not been modified since the specified</span>
<span class="sd">            date/time. If the destination blob has been modified, the Blob service</span>
<span class="sd">            returns status code 412 (Precondition Failed).</span>
<span class="sd">        :param str destination_if_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify an ETag value for</span>
<span class="sd">            this conditional header to copy the blob only if the specified ETag value</span>
<span class="sd">            matches the ETag value for an existing destination blob. If the ETag for</span>
<span class="sd">            the destination blob does not match the ETag specified for If-Match, the</span>
<span class="sd">            Blob service returns status code 412 (Precondition Failed).</span>
<span class="sd">        :param str destination_if_none_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify an ETag value for</span>
<span class="sd">            this conditional header to copy the blob only if the specified ETag value</span>
<span class="sd">            does not match the ETag value for the destination blob. Specify the wildcard</span>
<span class="sd">            character (*) to perform the operation only if the destination blob does not</span>
<span class="sd">            exist. If the specified condition isn&#39;t met, the Blob service returns status</span>
<span class="sd">            code 412 (Precondition Failed).</span>
<span class="sd">        :param destination_lease:</span>
<span class="sd">            The lease ID specified for this header must match the lease ID of the</span>
<span class="sd">            destination blob. If the request does not include the lease ID or it is not</span>
<span class="sd">            valid, the operation fails with status code 412 (Precondition Failed).</span>
<span class="sd">        :type destination_lease: ~azure.storage.blob.aio.lease_async..LeaseClient or str</span>
<span class="sd">        :param source_lease:</span>
<span class="sd">            Specify this to perform the Copy Blob operation only if</span>
<span class="sd">            the lease ID given matches the active lease ID of the source blob.</span>
<span class="sd">        :type source_lease: ~azure.storage.blob.aio.lease_async.LeaseClient or str</span>
<span class="sd">        :param int timeout:</span>
<span class="sd">            The timeout parameter is expressed in seconds.</span>
<span class="sd">        :param bool incremental_copy:</span>
<span class="sd">            Copies the snapshot of the source page blob to a destination page blob.</span>
<span class="sd">            The snapshot is copied such that only the differential changes between</span>
<span class="sd">            the previously copied snapshot are transferred to the destination.</span>
<span class="sd">            The copied snapshots are complete copies of the original snapshot and</span>
<span class="sd">            can be read or copied from as usual. Defaults to False.</span>
<span class="sd">        :param ~azure.storage.blob.models.PremiumPageBlobTier premium_page_blob_tier:</span>
<span class="sd">            A page blob tier value to set the blob to. The tier correlates to the size of the</span>
<span class="sd">            blob and number of allowed IOPS. This is only applicable to page blobs on</span>
<span class="sd">            premium storage accounts.</span>
<span class="sd">        :param bool requires_sync:</span>
<span class="sd">            Enforces that the service will not return a response until the copy is complete.</span>
<span class="sd">        :returns: A dictionary of copy properties (etag, last_modified, copy_id, copy_status).</span>
<span class="sd">        :rtype: Dict[str, Union[str, datetime]]</span>

<span class="sd">        Example:</span>
<span class="sd">            .. literalinclude:: ../tests/test_blob_samples_common_async.py</span>
<span class="sd">                :start-after: [START copy_blob_from_url]</span>
<span class="sd">                :end-before: [END copy_blob_from_url]</span>
<span class="sd">                :language: python</span>
<span class="sd">                :dedent: 12</span>
<span class="sd">                :caption: Copy a blob from a URL.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">options</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_start_copy_from_url_options</span><span class="p">(</span>
            <span class="n">source_url</span><span class="p">,</span>
            <span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">,</span>
            <span class="n">incremental_copy</span><span class="o">=</span><span class="n">incremental_copy</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">incremental_copy</span><span class="p">:</span>
                <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">page_blob</span><span class="o">.</span><span class="n">copy_incremental</span><span class="p">(</span><span class="o">**</span><span class="n">options</span><span class="p">)</span>
            <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">blob</span><span class="o">.</span><span class="n">start_copy_from_url</span><span class="p">(</span><span class="o">**</span><span class="n">options</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">StorageErrorException</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">process_storage_error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span></div>

<div class="viewcode-block" id="BlobClient.abort_copy"><a class="viewcode-back" href="../../../../../ref/azure.storage.blob.aio.html#azure.storage.blob.aio.blob_client_async.BlobClient.abort_copy">[docs]</a>    <span class="nd">@distributed_trace_async</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">abort_copy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">copy_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1"># type: (Union[str, BlobProperties], Any) -&gt; None</span>
        <span class="sd">&quot;&quot;&quot;Abort an ongoing copy operation.</span>

<span class="sd">        This will leave a destination blob with zero length and full metadata.</span>
<span class="sd">        This will raise an error if the copy operation has already ended.</span>

<span class="sd">        :param copy_id:</span>
<span class="sd">            The copy operation to abort. This can be either an ID, or an</span>
<span class="sd">            instance of BlobProperties.</span>
<span class="sd">        :type copy_id: str or ~azure.storage.blob.models.BlobProperties</span>
<span class="sd">        :rtype: None</span>

<span class="sd">        Example:</span>
<span class="sd">            .. literalinclude:: ../tests/test_blob_samples_common_async.py</span>
<span class="sd">                :start-after: [START abort_copy_blob_from_url]</span>
<span class="sd">                :end-before: [END abort_copy_blob_from_url]</span>
<span class="sd">                :language: python</span>
<span class="sd">                :dedent: 12</span>
<span class="sd">                :caption: Abort copying a blob from URL.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">options</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_abort_copy_options</span><span class="p">(</span><span class="n">copy_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">blob</span><span class="o">.</span><span class="n">abort_copy_from_url</span><span class="p">(</span><span class="o">**</span><span class="n">options</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">StorageErrorException</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">process_storage_error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span></div>

<div class="viewcode-block" id="BlobClient.acquire_lease"><a class="viewcode-back" href="../../../../../ref/azure.storage.blob.aio.html#azure.storage.blob.aio.blob_client_async.BlobClient.acquire_lease">[docs]</a>    <span class="nd">@distributed_trace_async</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">acquire_lease</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lease_duration</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">lease_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1"># type: (int, Optional[str], Optional[int], Any) -&gt; LeaseClient</span>
        <span class="sd">&quot;&quot;&quot;Requests a new lease.</span>

<span class="sd">        If the blob does not have an active lease, the Blob</span>
<span class="sd">        Service creates a lease on the blob and returns a new lease.</span>

<span class="sd">        :param int lease_duration:</span>
<span class="sd">            Specifies the duration of the lease, in seconds, or negative one</span>
<span class="sd">            (-1) for a lease that never expires. A non-infinite lease can be</span>
<span class="sd">            between 15 and 60 seconds. A lease duration cannot be changed</span>
<span class="sd">            using renew or change. Default is -1 (infinite lease).</span>
<span class="sd">        :param str lease_id:</span>
<span class="sd">            Proposed lease ID, in a GUID string format. The Blob Service</span>
<span class="sd">            returns 400 (Invalid request) if the proposed lease ID is not</span>
<span class="sd">            in the correct format.</span>
<span class="sd">        :param datetime if_modified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this header to perform the operation only</span>
<span class="sd">            if the resource has been modified since the specified time.</span>
<span class="sd">        :param datetime if_unmodified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this header to perform the operation only if</span>
<span class="sd">            the resource has not been modified since the specified date/time.</span>
<span class="sd">        :param str if_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify this header to perform</span>
<span class="sd">            the operation only if the resource&#39;s ETag matches the value specified.</span>
<span class="sd">        :param str if_none_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify this header</span>
<span class="sd">            to perform the operation only if the resource&#39;s ETag does not match</span>
<span class="sd">            the value specified. Specify the wildcard character (*) to perform</span>
<span class="sd">            the operation only if the resource does not exist, and fail the</span>
<span class="sd">            operation if it does exist.</span>
<span class="sd">        :param int timeout:</span>
<span class="sd">            The timeout parameter is expressed in seconds.</span>
<span class="sd">        :returns: A LeaseClient object.</span>
<span class="sd">        :rtype: ~azure.storage.blob.aio.lease_async.LeaseClient</span>

<span class="sd">        Example:</span>
<span class="sd">            .. literalinclude:: ../tests/test_blob_samples_common_async.py</span>
<span class="sd">                :start-after: [START acquire_lease_on_blob]</span>
<span class="sd">                :end-before: [END acquire_lease_on_blob]</span>
<span class="sd">                :language: python</span>
<span class="sd">                :dedent: 8</span>
<span class="sd">                :caption: Acquiring a lease on a blob.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">lease</span> <span class="o">=</span> <span class="n">LeaseClient</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lease_id</span><span class="o">=</span><span class="n">lease_id</span><span class="p">)</span> <span class="c1"># type: ignore</span>
        <span class="k">await</span> <span class="n">lease</span><span class="o">.</span><span class="n">acquire</span><span class="p">(</span><span class="n">lease_duration</span><span class="o">=</span><span class="n">lease_duration</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">lease</span></div>

<div class="viewcode-block" id="BlobClient.set_standard_blob_tier"><a class="viewcode-back" href="../../../../../ref/azure.storage.blob.aio.html#azure.storage.blob.aio.blob_client_async.BlobClient.set_standard_blob_tier">[docs]</a>    <span class="nd">@distributed_trace_async</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">set_standard_blob_tier</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">standard_blob_tier</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1"># type: (Union[str, StandardBlobTier], Any) -&gt; None</span>
        <span class="sd">&quot;&quot;&quot;This operation sets the tier on a block blob.</span>

<span class="sd">        A block blob&#39;s tier determines Hot/Cool/Archive storage type.</span>
<span class="sd">        This operation does not update the blob&#39;s ETag.</span>

<span class="sd">        :param standard_blob_tier:</span>
<span class="sd">            Indicates the tier to be set on the blob. Options include &#39;Hot&#39;, &#39;Cool&#39;,</span>
<span class="sd">            &#39;Archive&#39;. The hot tier is optimized for storing data that is accessed</span>
<span class="sd">            frequently. The cool storage tier is optimized for storing data that</span>
<span class="sd">            is infrequently accessed and stored for at least a month. The archive</span>
<span class="sd">            tier is optimized for storing data that is rarely accessed and stored</span>
<span class="sd">            for at least six months with flexible latency requirements.</span>
<span class="sd">        :type standard_blob_tier: str or ~azure.storage.blob.models.StandardBlobTier</span>
<span class="sd">        :param int timeout:</span>
<span class="sd">            The timeout parameter is expressed in seconds.</span>
<span class="sd">        :param lease:</span>
<span class="sd">            Required if the blob has an active lease. Value can be a LeaseClient object</span>
<span class="sd">            or the lease ID as a string.</span>
<span class="sd">        :type lease: ~azure.storage.blob.aio.lease_async.LeaseClient or str</span>
<span class="sd">        :rtype: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">access_conditions</span> <span class="o">=</span> <span class="n">get_access_conditions</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;lease&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">standard_blob_tier</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;A StandardBlobTier must be specified&quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">blob</span><span class="o">.</span><span class="n">set_tier</span><span class="p">(</span>
                <span class="n">tier</span><span class="o">=</span><span class="n">standard_blob_tier</span><span class="p">,</span>
                <span class="n">timeout</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;timeout&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
                <span class="n">lease_access_conditions</span><span class="o">=</span><span class="n">access_conditions</span><span class="p">,</span>
                <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">StorageErrorException</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">process_storage_error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span></div>

<div class="viewcode-block" id="BlobClient.stage_block"><a class="viewcode-back" href="../../../../../ref/azure.storage.blob.aio.html#azure.storage.blob.aio.blob_client_async.BlobClient.stage_block">[docs]</a>    <span class="nd">@distributed_trace_async</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">stage_block</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">block_id</span><span class="p">,</span>  <span class="c1"># type: str</span>
            <span class="n">data</span><span class="p">,</span>  <span class="c1"># type: Union[Iterable[AnyStr], IO[AnyStr]]</span>
            <span class="n">length</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># type: Optional[int]</span>
            <span class="n">validate_content</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>  <span class="c1"># type: Optional[bool]</span>
            <span class="o">**</span><span class="n">kwargs</span>
        <span class="p">):</span>
        <span class="c1"># type: (...) -&gt; None</span>
        <span class="sd">&quot;&quot;&quot;Creates a new block to be committed as part of a blob.</span>

<span class="sd">        :param str block_id: A valid Base64 string value that identifies the</span>
<span class="sd">             block. Prior to encoding, the string must be less than or equal to 64</span>
<span class="sd">             bytes in size. For a given blob, the length of the value specified for</span>
<span class="sd">             the block_id parameter must be the same size for each block.</span>
<span class="sd">        :param data: The blob data.</span>
<span class="sd">        :param int length: Size of the block.</span>
<span class="sd">        :param bool validate_content:</span>
<span class="sd">            If true, calculates an MD5 hash for each chunk of the blob. The storage</span>
<span class="sd">            service checks the hash of the content that has arrived with the hash</span>
<span class="sd">            that was sent. This is primarily valuable for detecting bitflips on</span>
<span class="sd">            the wire if using http instead of https as https (the default) will</span>
<span class="sd">            already validate. Note that this MD5 hash is not stored with the</span>
<span class="sd">            blob. Also note that if enabled, the memory-efficient upload algorithm</span>
<span class="sd">            will not be used, because computing the MD5 hash requires buffering</span>
<span class="sd">            entire blocks, and doing so defeats the purpose of the memory-efficient algorithm.</span>
<span class="sd">        :param lease:</span>
<span class="sd">            Required if the blob has an active lease. Value can be a LeaseClient object</span>
<span class="sd">            or the lease ID as a string.</span>
<span class="sd">        :type lease: ~azure.storage.blob.aio.lease_async.LeaseClient or str</span>
<span class="sd">        :param str encoding:</span>
<span class="sd">            Defaults to UTF-8.</span>
<span class="sd">        :param ~azure.storage.blob.models.CustomerProvidedEncryptionKey cpk:</span>
<span class="sd">            Encrypts the data on the service-side with the given key.</span>
<span class="sd">            Use of customer-provided keys must be done over HTTPS.</span>
<span class="sd">            As the encryption key itself is provided in the request,</span>
<span class="sd">            a secure connection must be established to transfer the key.</span>
<span class="sd">        :param int timeout:</span>
<span class="sd">            The timeout parameter is expressed in seconds.</span>
<span class="sd">        :rtype: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">options</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_stage_block_options</span><span class="p">(</span>
            <span class="n">block_id</span><span class="p">,</span>
            <span class="n">data</span><span class="p">,</span>
            <span class="n">length</span><span class="o">=</span><span class="n">length</span><span class="p">,</span>
            <span class="n">validate_content</span><span class="o">=</span><span class="n">validate_content</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">block_blob</span><span class="o">.</span><span class="n">stage_block</span><span class="p">(</span><span class="o">**</span><span class="n">options</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">StorageErrorException</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">process_storage_error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span></div>

<div class="viewcode-block" id="BlobClient.stage_block_from_url"><a class="viewcode-back" href="../../../../../ref/azure.storage.blob.aio.html#azure.storage.blob.aio.blob_client_async.BlobClient.stage_block_from_url">[docs]</a>    <span class="nd">@distributed_trace_async</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">stage_block_from_url</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">block_id</span><span class="p">,</span>  <span class="c1"># type: str</span>
            <span class="n">source_url</span><span class="p">,</span>  <span class="c1"># type: str</span>
            <span class="n">source_offset</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># type: Optional[int]</span>
            <span class="n">source_length</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># type: Optional[int]</span>
            <span class="n">source_content_md5</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># type: Optional[Union[bytes, bytearray]]</span>
            <span class="o">**</span><span class="n">kwargs</span>
        <span class="p">):</span>
        <span class="c1"># type: (...) -&gt; None</span>
        <span class="sd">&quot;&quot;&quot;Creates a new block to be committed as part of a blob where</span>
<span class="sd">        the contents are read from a URL.</span>

<span class="sd">        :param str block_id: A valid Base64 string value that identifies the</span>
<span class="sd">             block. Prior to encoding, the string must be less than or equal to 64</span>
<span class="sd">             bytes in size. For a given blob, the length of the value specified for</span>
<span class="sd">             the block_id parameter must be the same size for each block.</span>
<span class="sd">        :param source_url: The URL.</span>
<span class="sd">        :param source_offset:</span>
<span class="sd">            Start of byte range to use for the block.</span>
<span class="sd">            Must be set if source length is provided.</span>
<span class="sd">        :param source_length: The size of the block in bytes.</span>
<span class="sd">        :param bytearray source_content_md5:</span>
<span class="sd">            Specify the md5 calculated for the range of</span>
<span class="sd">            bytes that must be read from the copy source.</span>
<span class="sd">        :param lease:</span>
<span class="sd">            Required if the blob has an active lease. Value can be a LeaseClient object</span>
<span class="sd">            or the lease ID as a string.</span>
<span class="sd">        :type lease: ~azure.storage.blob.aio.lease_async.LeaseClient or str</span>
<span class="sd">        :param ~azure.storage.blob.models.CustomerProvidedEncryptionKey cpk:</span>
<span class="sd">            Encrypts the data on the service-side with the given key.</span>
<span class="sd">            Use of customer-provided keys must be done over HTTPS.</span>
<span class="sd">            As the encryption key itself is provided in the request,</span>
<span class="sd">            a secure connection must be established to transfer the key.</span>
<span class="sd">        :param int timeout:</span>
<span class="sd">            The timeout parameter is expressed in seconds.</span>
<span class="sd">        :rtype: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">options</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_stage_block_from_url_options</span><span class="p">(</span>
            <span class="n">block_id</span><span class="p">,</span>
            <span class="n">source_url</span><span class="p">,</span>
            <span class="n">source_offset</span><span class="o">=</span><span class="n">source_offset</span><span class="p">,</span>
            <span class="n">source_length</span><span class="o">=</span><span class="n">source_length</span><span class="p">,</span>
            <span class="n">source_content_md5</span><span class="o">=</span><span class="n">source_content_md5</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">block_blob</span><span class="o">.</span><span class="n">stage_block_from_url</span><span class="p">(</span><span class="o">**</span><span class="n">options</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">StorageErrorException</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">process_storage_error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span></div>

<div class="viewcode-block" id="BlobClient.get_block_list"><a class="viewcode-back" href="../../../../../ref/azure.storage.blob.aio.html#azure.storage.blob.aio.blob_client_async.BlobClient.get_block_list">[docs]</a>    <span class="nd">@distributed_trace_async</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">get_block_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">block_list_type</span><span class="o">=</span><span class="s2">&quot;committed&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1"># type: (Optional[str], Any) -&gt; Tuple[List[BlobBlock], List[BlobBlock]]</span>
        <span class="sd">&quot;&quot;&quot;The Get Block List operation retrieves the list of blocks that have</span>
<span class="sd">        been uploaded as part of a block blob.</span>

<span class="sd">        :param str block_list_type:</span>
<span class="sd">            Specifies whether to return the list of committed</span>
<span class="sd">            blocks, the list of uncommitted blocks, or both lists together.</span>
<span class="sd">            Possible values include: &#39;committed&#39;, &#39;uncommitted&#39;, &#39;all&#39;</span>
<span class="sd">        :param lease:</span>
<span class="sd">            Required if the blob has an active lease. Value can be a LeaseClient object</span>
<span class="sd">            or the lease ID as a string.</span>
<span class="sd">        :type lease: ~azure.storage.blob.aio.lease_async.LeaseClient or str</span>
<span class="sd">        :param int timeout:</span>
<span class="sd">            The timeout parameter is expressed in seconds.</span>
<span class="sd">        :returns: A tuple of two lists - committed and uncommitted blocks</span>
<span class="sd">        :rtype: tuple(list(~azure.storage.blob.models.BlobBlock), list(~azure.storage.blob.models.BlobBlock))</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">access_conditions</span> <span class="o">=</span> <span class="n">get_access_conditions</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;kease&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">blocks</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">block_blob</span><span class="o">.</span><span class="n">get_block_list</span><span class="p">(</span>
                <span class="n">list_type</span><span class="o">=</span><span class="n">block_list_type</span><span class="p">,</span>
                <span class="n">snapshot</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">snapshot</span><span class="p">,</span>
                <span class="n">timeout</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;timeout&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
                <span class="n">lease_access_conditions</span><span class="o">=</span><span class="n">access_conditions</span><span class="p">,</span>
                <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">StorageErrorException</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">process_storage_error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_block_list_result</span><span class="p">(</span><span class="n">blocks</span><span class="p">)</span></div>

<div class="viewcode-block" id="BlobClient.commit_block_list"><a class="viewcode-back" href="../../../../../ref/azure.storage.blob.aio.html#azure.storage.blob.aio.blob_client_async.BlobClient.commit_block_list">[docs]</a>    <span class="nd">@distributed_trace_async</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">commit_block_list</span><span class="p">(</span> <span class="c1"># type: ignore</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">block_list</span><span class="p">,</span>  <span class="c1"># type: List[BlobBlock]</span>
            <span class="n">content_settings</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># type: Optional[ContentSettings]</span>
            <span class="n">metadata</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># type: Optional[Dict[str, str]]</span>
            <span class="n">validate_content</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>  <span class="c1"># type: Optional[bool]</span>
            <span class="o">**</span><span class="n">kwargs</span>
        <span class="p">):</span>
        <span class="c1"># type: (...) -&gt; Dict[str, Union[str, datetime]]</span>
        <span class="sd">&quot;&quot;&quot;The Commit Block List operation writes a blob by specifying the list of</span>
<span class="sd">        block IDs that make up the blob.</span>

<span class="sd">        :param list block_list:</span>
<span class="sd">            List of Blockblobs.</span>
<span class="sd">        :param lease:</span>
<span class="sd">            Required if the blob has an active lease. Value can be a LeaseClient object</span>
<span class="sd">            or the lease ID as a string.</span>
<span class="sd">        :type lease: ~azure.storage.blob.aio.lease_async.LeaseClient or str</span>
<span class="sd">        :param ~azure.storage.blob.models.ContentSettings content_settings:</span>
<span class="sd">            ContentSettings object used to set blob properties.</span>
<span class="sd">        :param metadata:</span>
<span class="sd">            Name-value pairs associated with the blob as metadata.</span>
<span class="sd">        :type metadata: dict[str, str]</span>
<span class="sd">        :param bool validate_content:</span>
<span class="sd">            If true, calculates an MD5 hash of the page content. The storage</span>
<span class="sd">            service checks the hash of the content that has arrived</span>
<span class="sd">            with the hash that was sent. This is primarily valuable for detecting</span>
<span class="sd">            bitflips on the wire if using http instead of https as https (the default)</span>
<span class="sd">            will already validate. Note that this MD5 hash is not stored with the</span>
<span class="sd">            blob.</span>
<span class="sd">        :param datetime if_modified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this header to perform the operation only</span>
<span class="sd">            if the resource has been modified since the specified time.</span>
<span class="sd">        :param datetime if_unmodified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this header to perform the operation only if</span>
<span class="sd">            the resource has not been modified since the specified date/time.</span>
<span class="sd">        :param str if_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify this header to perform</span>
<span class="sd">            the operation only if the resource&#39;s ETag matches the value specified.</span>
<span class="sd">        :param str if_none_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify this header</span>
<span class="sd">            to perform the operation only if the resource&#39;s ETag does not match</span>
<span class="sd">            the value specified. Specify the wildcard character (*) to perform</span>
<span class="sd">            the operation only if the resource does not exist, and fail the</span>
<span class="sd">            operation if it does exist.</span>
<span class="sd">        :param ~azure.storage.blob.models.CustomerProvidedEncryptionKey cpk:</span>
<span class="sd">            Encrypts the data on the service-side with the given key.</span>
<span class="sd">            Use of customer-provided keys must be done over HTTPS.</span>
<span class="sd">            As the encryption key itself is provided in the request,</span>
<span class="sd">            a secure connection must be established to transfer the key.</span>
<span class="sd">        :param int timeout:</span>
<span class="sd">            The timeout parameter is expressed in seconds.</span>
<span class="sd">        :returns: Blob-updated property dict (Etag and last modified).</span>
<span class="sd">        :rtype: dict(str, Any)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">options</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_commit_block_list_options</span><span class="p">(</span>
            <span class="n">block_list</span><span class="p">,</span>
            <span class="n">content_settings</span><span class="o">=</span><span class="n">content_settings</span><span class="p">,</span>
            <span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">,</span>
            <span class="n">validate_content</span><span class="o">=</span><span class="n">validate_content</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">block_blob</span><span class="o">.</span><span class="n">commit_block_list</span><span class="p">(</span><span class="o">**</span><span class="n">options</span><span class="p">)</span> <span class="c1"># type: ignore</span>
        <span class="k">except</span> <span class="n">StorageErrorException</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">process_storage_error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span></div>

<div class="viewcode-block" id="BlobClient.set_premium_page_blob_tier"><a class="viewcode-back" href="../../../../../ref/azure.storage.blob.aio.html#azure.storage.blob.aio.blob_client_async.BlobClient.set_premium_page_blob_tier">[docs]</a>    <span class="nd">@distributed_trace_async</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">set_premium_page_blob_tier</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">premium_page_blob_tier</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1"># type: (Union[str, PremiumPageBlobTier], Optional[int], Optional[Union[LeaseClient, str]], **Any) -&gt; None</span>
        <span class="sd">&quot;&quot;&quot;Sets the page blob tiers on the blob. This API is only supported for page blobs on premium accounts.</span>

<span class="sd">        :param premium_page_blob_tier:</span>
<span class="sd">            A page blob tier value to set the blob to. The tier correlates to the size of the</span>
<span class="sd">            blob and number of allowed IOPS. This is only applicable to page blobs on</span>
<span class="sd">            premium storage accounts.</span>
<span class="sd">        :type premium_page_blob_tier: ~azure.storage.blob.models.PremiumPageBlobTier</span>
<span class="sd">        :param int timeout:</span>
<span class="sd">            The timeout parameter is expressed in seconds. This method may make</span>
<span class="sd">            multiple calls to the Azure service and the timeout will apply to</span>
<span class="sd">            each call individually.</span>
<span class="sd">        :param lease:</span>
<span class="sd">            Required if the blob has an active lease. Value can be a LeaseClient object</span>
<span class="sd">            or the lease ID as a string.</span>
<span class="sd">        :type lease: ~azure.storage.blob.aio.lease_async.LeaseClient or str</span>
<span class="sd">        :rtype: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">access_conditions</span> <span class="o">=</span> <span class="n">get_access_conditions</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;lease&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">premium_page_blob_tier</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;A PremiumPageBlobTiermust be specified&quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">blob</span><span class="o">.</span><span class="n">set_tier</span><span class="p">(</span>
                <span class="n">tier</span><span class="o">=</span><span class="n">premium_page_blob_tier</span><span class="p">,</span>
                <span class="n">timeout</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;timeout&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
                <span class="n">lease_access_conditions</span><span class="o">=</span><span class="n">access_conditions</span><span class="p">,</span>
                <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">StorageErrorException</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">process_storage_error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span></div>

<div class="viewcode-block" id="BlobClient.get_page_ranges"><a class="viewcode-back" href="../../../../../ref/azure.storage.blob.aio.html#azure.storage.blob.aio.blob_client_async.BlobClient.get_page_ranges">[docs]</a>    <span class="nd">@distributed_trace_async</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">get_page_ranges</span><span class="p">(</span> <span class="c1"># type: ignore</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">start_range</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="c1"># type: Optional[int]</span>
            <span class="n">end_range</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="c1"># type: Optional[int]</span>
            <span class="n">previous_snapshot_diff</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># type: Optional[Union[str, Dict[str, Any]]]</span>
            <span class="o">**</span><span class="n">kwargs</span>
        <span class="p">):</span>
        <span class="c1"># type: (...) -&gt; List[dict[str, int]]</span>
        <span class="sd">&quot;&quot;&quot;Returns the list of valid page ranges for a Page Blob or snapshot</span>
<span class="sd">        of a page blob.</span>

<span class="sd">        :param int start_range:</span>
<span class="sd">            Start of byte range to use for getting valid page ranges.</span>
<span class="sd">            If no end_range is given, all bytes after the start_range will be searched.</span>
<span class="sd">            Pages must be aligned with 512-byte boundaries, the start offset</span>
<span class="sd">            must be a modulus of 512 and the end offset must be a modulus of</span>
<span class="sd">            512-1. Examples of valid byte ranges are 0-511, 512-, etc.</span>
<span class="sd">        :param int end_range:</span>
<span class="sd">            End of byte range to use for getting valid page ranges.</span>
<span class="sd">            If end_range is given, start_range must be provided.</span>
<span class="sd">            This range will return valid page ranges for from the offset start up to</span>
<span class="sd">            offset end.</span>
<span class="sd">            Pages must be aligned with 512-byte boundaries, the start offset</span>
<span class="sd">            must be a modulus of 512 and the end offset must be a modulus of</span>
<span class="sd">            512-1. Examples of valid byte ranges are 0-511, 512-, etc.</span>
<span class="sd">        :param lease:</span>
<span class="sd">            Required if the blob has an active lease. Value can be a LeaseClient object</span>
<span class="sd">            or the lease ID as a string.</span>
<span class="sd">        :type lease: ~azure.storage.blob.aio.lease_async.LeaseClient or str</span>
<span class="sd">        :param str previous_snapshot_diff:</span>
<span class="sd">            The snapshot diff parameter that contains an opaque DateTime value that</span>
<span class="sd">            specifies a previous blob snapshot to be compared</span>
<span class="sd">            against a more recent snapshot or the current blob.</span>
<span class="sd">        :param datetime if_modified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this header to perform the operation only</span>
<span class="sd">            if the resource has been modified since the specified time.</span>
<span class="sd">        :param datetime if_unmodified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this header to perform the operation only if</span>
<span class="sd">            the resource has not been modified since the specified date/time.</span>
<span class="sd">        :param str if_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify this header to perform</span>
<span class="sd">            the operation only if the resource&#39;s ETag matches the value specified.</span>
<span class="sd">        :param str if_none_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify this header</span>
<span class="sd">            to perform the operation only if the resource&#39;s ETag does not match</span>
<span class="sd">            the value specified. Specify the wildcard character (*) to perform</span>
<span class="sd">            the operation only if the resource does not exist, and fail the</span>
<span class="sd">            operation if it does exist.</span>
<span class="sd">        :param int timeout:</span>
<span class="sd">            The timeout parameter is expressed in seconds.</span>
<span class="sd">        :returns:</span>
<span class="sd">            A tuple of two lists of page ranges as dictionaries with &#39;start&#39; and &#39;end&#39; keys.</span>
<span class="sd">            The first element are filled page ranges, the 2nd element is cleared page ranges.</span>
<span class="sd">        :rtype: tuple(list(dict(str, str), list(dict(str, str))</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">options</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_page_ranges_options</span><span class="p">(</span>
            <span class="n">start_range</span><span class="o">=</span><span class="n">start_range</span><span class="p">,</span>
            <span class="n">end_range</span><span class="o">=</span><span class="n">end_range</span><span class="p">,</span>
            <span class="n">previous_snapshot_diff</span><span class="o">=</span><span class="n">previous_snapshot_diff</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">previous_snapshot_diff</span><span class="p">:</span>
                <span class="n">ranges</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">page_blob</span><span class="o">.</span><span class="n">get_page_ranges_diff</span><span class="p">(</span><span class="o">**</span><span class="n">options</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">ranges</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">page_blob</span><span class="o">.</span><span class="n">get_page_ranges</span><span class="p">(</span><span class="o">**</span><span class="n">options</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">StorageErrorException</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">process_storage_error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_page_ranges_result</span><span class="p">(</span><span class="n">ranges</span><span class="p">)</span></div>

<div class="viewcode-block" id="BlobClient.set_sequence_number"><a class="viewcode-back" href="../../../../../ref/azure.storage.blob.aio.html#azure.storage.blob.aio.blob_client_async.BlobClient.set_sequence_number">[docs]</a>    <span class="nd">@distributed_trace_async</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">set_sequence_number</span><span class="p">(</span> <span class="c1"># type: ignore</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">sequence_number_action</span><span class="p">,</span>  <span class="c1"># type: Union[str, SequenceNumberAction]</span>
            <span class="n">sequence_number</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># type: Optional[str]</span>
            <span class="o">**</span><span class="n">kwargs</span>
        <span class="p">):</span>
        <span class="c1"># type: (...) -&gt; Dict[str, Union[str, datetime]]</span>
        <span class="sd">&quot;&quot;&quot;Sets the blob sequence number.</span>

<span class="sd">        :param str sequence_number_action:</span>
<span class="sd">            This property indicates how the service should modify the blob&#39;s sequence</span>
<span class="sd">            number. See :class:`~azure.storage.blob.models.SequenceNumberAction` for more information.</span>
<span class="sd">        :param str sequence_number:</span>
<span class="sd">            This property sets the blob&#39;s sequence number. The sequence number is a</span>
<span class="sd">            user-controlled property that you can use to track requests and manage</span>
<span class="sd">            concurrency issues.</span>
<span class="sd">        :param lease:</span>
<span class="sd">            Required if the blob has an active lease. Value can be a LeaseClient object</span>
<span class="sd">            or the lease ID as a string.</span>
<span class="sd">        :type lease: ~azure.storage.blob.aio.lease_async.LeaseClient or str</span>
<span class="sd">        :param datetime if_modified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this header to perform the operation only</span>
<span class="sd">            if the resource has been modified since the specified time.</span>
<span class="sd">        :param datetime if_unmodified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this header to perform the operation only if</span>
<span class="sd">            the resource has not been modified since the specified date/time.</span>
<span class="sd">        :param str if_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify this header to perform</span>
<span class="sd">            the operation only if the resource&#39;s ETag matches the value specified.</span>
<span class="sd">        :param str if_none_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify this header</span>
<span class="sd">            to perform the operation only if the resource&#39;s ETag does not match</span>
<span class="sd">            the value specified. Specify the wildcard character (*) to perform</span>
<span class="sd">            the operation only if the resource does not exist, and fail the</span>
<span class="sd">            operation if it does exist.</span>
<span class="sd">        :param int timeout:</span>
<span class="sd">            The timeout parameter is expressed in seconds.</span>
<span class="sd">        :returns: Blob-updated property dict (Etag and last modified).</span>
<span class="sd">        :rtype: dict(str, Any)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">options</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_set_sequence_number_options</span><span class="p">(</span>
            <span class="n">sequence_number_action</span><span class="p">,</span> <span class="n">sequence_number</span><span class="o">=</span><span class="n">sequence_number</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">page_blob</span><span class="o">.</span><span class="n">update_sequence_number</span><span class="p">(</span><span class="o">**</span><span class="n">options</span><span class="p">)</span> <span class="c1"># type: ignore</span>
        <span class="k">except</span> <span class="n">StorageErrorException</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">process_storage_error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span></div>

<div class="viewcode-block" id="BlobClient.resize_blob"><a class="viewcode-back" href="../../../../../ref/azure.storage.blob.aio.html#azure.storage.blob.aio.blob_client_async.BlobClient.resize_blob">[docs]</a>    <span class="nd">@distributed_trace_async</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">resize_blob</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1"># type: (int, Any) -&gt; Dict[str, Union[str, datetime]]</span>
        <span class="sd">&quot;&quot;&quot;Resizes a page blob to the specified size.</span>

<span class="sd">        If the specified value is less than the current size of the blob,</span>
<span class="sd">        then all pages above the specified value are cleared.</span>

<span class="sd">        :param int size:</span>
<span class="sd">            Size to resize blob to.</span>
<span class="sd">        :param lease:</span>
<span class="sd">            Required if the blob has an active lease. Value can be a LeaseClient object</span>
<span class="sd">            or the lease ID as a string.</span>
<span class="sd">        :type lease: ~azure.storage.blob.aio.lease_async.LeaseClient or str</span>
<span class="sd">        :param datetime if_modified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this header to perform the operation only</span>
<span class="sd">            if the resource has been modified since the specified time.</span>
<span class="sd">        :param datetime if_unmodified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this header to perform the operation only if</span>
<span class="sd">            the resource has not been modified since the specified date/time.</span>
<span class="sd">        :param str if_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify this header to perform</span>
<span class="sd">            the operation only if the resource&#39;s ETag matches the value specified.</span>
<span class="sd">        :param str if_none_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify this header</span>
<span class="sd">            to perform the operation only if the resource&#39;s ETag does not match</span>
<span class="sd">            the value specified. Specify the wildcard character (*) to perform</span>
<span class="sd">            the operation only if the resource does not exist, and fail the</span>
<span class="sd">            operation if it does exist.</span>
<span class="sd">        :param ~azure.storage.blob.models.PremiumPageBlobTier premium_page_blob_tier:</span>
<span class="sd">            A page blob tier value to set the blob to. The tier correlates to the size of the</span>
<span class="sd">            blob and number of allowed IOPS. This is only applicable to page blobs on</span>
<span class="sd">            premium storage accounts.</span>
<span class="sd">        :param int timeout:</span>
<span class="sd">            The timeout parameter is expressed in seconds.</span>
<span class="sd">        :returns: Blob-updated property dict (Etag and last modified).</span>
<span class="sd">        :rtype: dict(str, Any)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">options</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resize_blob_options</span><span class="p">(</span><span class="n">size</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">page_blob</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="o">**</span><span class="n">options</span><span class="p">)</span> <span class="c1"># type: ignore</span>
        <span class="k">except</span> <span class="n">StorageErrorException</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">process_storage_error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span></div>

<div class="viewcode-block" id="BlobClient.upload_page"><a class="viewcode-back" href="../../../../../ref/azure.storage.blob.aio.html#azure.storage.blob.aio.blob_client_async.BlobClient.upload_page">[docs]</a>    <span class="nd">@distributed_trace_async</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">upload_page</span><span class="p">(</span> <span class="c1"># type: ignore</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">page</span><span class="p">,</span>  <span class="c1"># type: bytes</span>
            <span class="n">start_range</span><span class="p">,</span>  <span class="c1"># type: int</span>
            <span class="n">end_range</span><span class="p">,</span>  <span class="c1"># type: int</span>
            <span class="n">length</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># type: Optional[int]</span>
            <span class="n">validate_content</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>  <span class="c1"># type: Optional[bool]</span>
            <span class="o">**</span><span class="n">kwargs</span>
        <span class="p">):</span>
        <span class="c1"># type: (...) -&gt; Dict[str, Union[str, datetime]]</span>
        <span class="sd">&quot;&quot;&quot;The Upload Pages operation writes a range of pages to a page blob.</span>

<span class="sd">        :param bytes page:</span>
<span class="sd">            Content of the page.</span>
<span class="sd">        :param int start_range:</span>
<span class="sd">            Start of byte range to use for writing to a section of the blob.</span>
<span class="sd">            Pages must be aligned with 512-byte boundaries, the start offset</span>
<span class="sd">            must be a modulus of 512 and the end offset must be a modulus of</span>
<span class="sd">            512-1. Examples of valid byte ranges are 0-511, 512-1023, etc.</span>
<span class="sd">        :param int end_range:</span>
<span class="sd">            End of byte range to use for writing to a section of the blob.</span>
<span class="sd">            Pages must be aligned with 512-byte boundaries, the start offset</span>
<span class="sd">            must be a modulus of 512 and the end offset must be a modulus of</span>
<span class="sd">            512-1. Examples of valid byte ranges are 0-511, 512-1023, etc.</span>
<span class="sd">        :param int length:</span>
<span class="sd">            Length of the page</span>
<span class="sd">        :param lease:</span>
<span class="sd">            Required if the blob has an active lease. Value can be a LeaseClient object</span>
<span class="sd">            or the lease ID as a string.</span>
<span class="sd">        :type lease: ~azure.storage.blob.aio.lease_async.LeaseClient or str</span>
<span class="sd">        :param bool validate_content:</span>
<span class="sd">            If true, calculates an MD5 hash of the page content. The storage</span>
<span class="sd">            service checks the hash of the content that has arrived</span>
<span class="sd">            with the hash that was sent. This is primarily valuable for detecting</span>
<span class="sd">            bitflips on the wire if using http instead of https as https (the default)</span>
<span class="sd">            will already validate. Note that this MD5 hash is not stored with the</span>
<span class="sd">            blob.</span>
<span class="sd">        :param int if_sequence_number_lte:</span>
<span class="sd">            If the blob&#39;s sequence number is less than or equal to</span>
<span class="sd">            the specified value, the request proceeds; otherwise it fails.</span>
<span class="sd">        :param int if_sequence_number_lt:</span>
<span class="sd">            If the blob&#39;s sequence number is less than the specified</span>
<span class="sd">            value, the request proceeds; otherwise it fails.</span>
<span class="sd">        :param int if_sequence_number_eq:</span>
<span class="sd">            If the blob&#39;s sequence number is equal to the specified</span>
<span class="sd">            value, the request proceeds; otherwise it fails.</span>
<span class="sd">        :param datetime if_modified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this header to perform the operation only</span>
<span class="sd">            if the resource has been modified since the specified time.</span>
<span class="sd">        :param datetime if_unmodified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this header to perform the operation only if</span>
<span class="sd">            the resource has not been modified since the specified date/time.</span>
<span class="sd">        :param str if_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify an ETag value for this conditional</span>
<span class="sd">            header to write the page only if the blob&#39;s ETag value matches the</span>
<span class="sd">            value specified. If the values do not match, the Blob service fails.</span>
<span class="sd">        :param str if_none_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify an ETag value for this conditional</span>
<span class="sd">            header to write the page only if the blob&#39;s ETag value does not</span>
<span class="sd">            match the value specified. If the values are identical, the Blob</span>
<span class="sd">            service fails.</span>
<span class="sd">        :param ~azure.storage.blob.models.CustomerProvidedEncryptionKey cpk:</span>
<span class="sd">            Encrypts the data on the service-side with the given key.</span>
<span class="sd">            Use of customer-provided keys must be done over HTTPS.</span>
<span class="sd">            As the encryption key itself is provided in the request,</span>
<span class="sd">            a secure connection must be established to transfer the key.</span>
<span class="sd">        :param str encoding:</span>
<span class="sd">            Defaults to UTF-8.</span>
<span class="sd">        :param int timeout:</span>
<span class="sd">            The timeout parameter is expressed in seconds.</span>
<span class="sd">        :returns: Blob-updated property dict (Etag and last modified).</span>
<span class="sd">        :rtype: dict(str, Any)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">options</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_upload_page_options</span><span class="p">(</span>
            <span class="n">page</span><span class="o">=</span><span class="n">page</span><span class="p">,</span>
            <span class="n">start_range</span><span class="o">=</span><span class="n">start_range</span><span class="p">,</span>
            <span class="n">end_range</span><span class="o">=</span><span class="n">end_range</span><span class="p">,</span>
            <span class="n">length</span><span class="o">=</span><span class="n">length</span><span class="p">,</span>
            <span class="n">validate_content</span><span class="o">=</span><span class="n">validate_content</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">page_blob</span><span class="o">.</span><span class="n">upload_pages</span><span class="p">(</span><span class="o">**</span><span class="n">options</span><span class="p">)</span> <span class="c1"># type: ignore</span>
        <span class="k">except</span> <span class="n">StorageErrorException</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">process_storage_error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span></div>

<div class="viewcode-block" id="BlobClient.upload_pages_from_url"><a class="viewcode-back" href="../../../../../ref/azure.storage.blob.aio.html#azure.storage.blob.aio.blob_client_async.BlobClient.upload_pages_from_url">[docs]</a>    <span class="nd">@distributed_trace_async</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">upload_pages_from_url</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">source_url</span><span class="p">,</span>  <span class="c1"># type: str</span>
                                    <span class="n">range_start</span><span class="p">,</span>  <span class="c1"># type: int</span>
                                    <span class="n">range_end</span><span class="p">,</span>  <span class="c1"># type: int</span>
                                    <span class="n">source_range_start</span><span class="p">,</span>  <span class="c1"># type: int</span>
                                    <span class="n">source_content_md5</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># type: Optional[bytes]</span>
                                    <span class="o">**</span><span class="n">kwargs</span>
                                    <span class="p">):</span>
        <span class="c1"># type: (...) -&gt; Dict[str, Any]</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Updates a range of pages to a page blob where the contents are read from a URL.</span>

<span class="sd">        :param str source_url:</span>
<span class="sd">            The URL of the source data. It can point to any Azure Blob or File, that is either public or has a</span>
<span class="sd">            shared access signature attached.</span>
<span class="sd">        :param int range_start:</span>
<span class="sd">            Start of byte range to use for writing to a section of the blob.</span>
<span class="sd">            Pages must be aligned with 512-byte boundaries, the start offset</span>
<span class="sd">            must be a modulus of 512 and the end offset must be a modulus of</span>
<span class="sd">            512-1. Examples of valid byte ranges are 0-511, 512-1023, etc.</span>
<span class="sd">        :param int range_end:</span>
<span class="sd">            End of byte range to use for writing to a section of the blob.</span>
<span class="sd">            Pages must be aligned with 512-byte boundaries, the start offset</span>
<span class="sd">            must be a modulus of 512 and the end offset must be a modulus of</span>
<span class="sd">            512-1. Examples of valid byte ranges are 0-511, 512-1023, etc.</span>
<span class="sd">        :param int source_range_start:</span>
<span class="sd">            This indicates the start of the range of bytes(inclusive) that has to be taken from the copy source.</span>
<span class="sd">            The service will read the same number of bytes as the destination range (end_range-start_range).</span>
<span class="sd">        :param bytes source_content_md5:</span>
<span class="sd">            If given, the service will calculate the MD5 hash of the block content and compare against this value.</span>
<span class="sd">        :param datetime source_if_modified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this header to perform the operation only</span>
<span class="sd">            if the source resource has been modified since the specified time.</span>
<span class="sd">        :param datetime source_if_unmodified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this header to perform the operation only if</span>
<span class="sd">            the source resource has not been modified since the specified date/time.</span>
<span class="sd">        :param str source_if_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify this header to perform</span>
<span class="sd">            the operation only if the source resource&#39;s ETag matches the value specified.</span>
<span class="sd">        :param str source_if_none_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify this header</span>
<span class="sd">            to perform the operation only if the source resource&#39;s ETag does not match</span>
<span class="sd">            the value specified. Specify the wildcard character (*) to perform</span>
<span class="sd">            the operation only if the source resource does not exist, and fail the</span>
<span class="sd">            operation if it does exist.</span>
<span class="sd">        :param str lease:</span>
<span class="sd">            Required if the blob has an active lease.</span>
<span class="sd">        :param int if_sequence_number_lte:</span>
<span class="sd">            If the blob&#39;s sequence number is less than or equal to</span>
<span class="sd">            the specified value, the request proceeds; otherwise it fails.</span>
<span class="sd">        :param int if_sequence_number_lt:</span>
<span class="sd">            If the blob&#39;s sequence number is less than the specified</span>
<span class="sd">            value, the request proceeds; otherwise it fails.</span>
<span class="sd">        :param int if_sequence_number_eq:</span>
<span class="sd">            If the blob&#39;s sequence number is equal to the specified</span>
<span class="sd">            value, the request proceeds; otherwise it fails.</span>
<span class="sd">        :param datetime if_modified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this header to perform the operation only</span>
<span class="sd">            if the resource has been modified since the specified time.</span>
<span class="sd">        :param datetime if_unmodified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this header to perform the operation only if</span>
<span class="sd">            the resource has not been modified since the specified date/time.</span>
<span class="sd">        :param str if_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify this header to perform</span>
<span class="sd">            the operation only if the resource&#39;s ETag matches the value specified.</span>
<span class="sd">        :param str if_none_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify this header</span>
<span class="sd">            to perform the operation only if the resource&#39;s ETag does not match</span>
<span class="sd">            the value specified. Specify the wildcard character (*) to perform</span>
<span class="sd">            the operation only if the resource does not exist, and fail the</span>
<span class="sd">            operation if it does exist.</span>
<span class="sd">        :param ~azure.storage.blob.models.CustomerProvidedEncryptionKey cpk:</span>
<span class="sd">            Encrypts the data on the service-side with the given key.</span>
<span class="sd">            Use of customer-provided keys must be done over HTTPS.</span>
<span class="sd">            As the encryption key itself is provided in the request,</span>
<span class="sd">            a secure connection must be established to transfer the key.</span>
<span class="sd">        :param int timeout:</span>
<span class="sd">            The timeout parameter is expressed in seconds.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">options</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_upload_pages_from_url_options</span><span class="p">(</span>
            <span class="n">source_url</span><span class="o">=</span><span class="n">source_url</span><span class="p">,</span>
            <span class="n">range_start</span><span class="o">=</span><span class="n">range_start</span><span class="p">,</span>
            <span class="n">range_end</span><span class="o">=</span><span class="n">range_end</span><span class="p">,</span>
            <span class="n">source_range_start</span><span class="o">=</span><span class="n">source_range_start</span><span class="p">,</span>
            <span class="n">source_content_md5</span><span class="o">=</span><span class="n">source_content_md5</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span>
        <span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">page_blob</span><span class="o">.</span><span class="n">upload_pages_from_url</span><span class="p">(</span><span class="o">**</span><span class="n">options</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
        <span class="k">except</span> <span class="n">StorageErrorException</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">process_storage_error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span></div>

<div class="viewcode-block" id="BlobClient.clear_page"><a class="viewcode-back" href="../../../../../ref/azure.storage.blob.aio.html#azure.storage.blob.aio.blob_client_async.BlobClient.clear_page">[docs]</a>    <span class="nd">@distributed_trace_async</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">clear_page</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">start_range</span><span class="p">,</span> <span class="n">end_range</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1"># type: (int, int) -&gt; Dict[str, Union[str, datetime]]</span>
        <span class="sd">&quot;&quot;&quot;Clears a range of pages.</span>

<span class="sd">        :param int start_range:</span>
<span class="sd">            Start of byte range to use for writing to a section of the blob.</span>
<span class="sd">            Pages must be aligned with 512-byte boundaries, the start offset</span>
<span class="sd">            must be a modulus of 512 and the end offset must be a modulus of</span>
<span class="sd">            512-1. Examples of valid byte ranges are 0-511, 512-1023, etc.</span>
<span class="sd">        :param int end_range:</span>
<span class="sd">            End of byte range to use for writing to a section of the blob.</span>
<span class="sd">            Pages must be aligned with 512-byte boundaries, the start offset</span>
<span class="sd">            must be a modulus of 512 and the end offset must be a modulus of</span>
<span class="sd">            512-1. Examples of valid byte ranges are 0-511, 512-1023, etc.</span>
<span class="sd">        :param lease:</span>
<span class="sd">            Required if the blob has an active lease. Value can be a LeaseClient object</span>
<span class="sd">            or the lease ID as a string.</span>
<span class="sd">        :type lease: ~azure.storage.blob.aio.lease_async.LeaseClient or str</span>
<span class="sd">        :param int if_sequence_number_lte:</span>
<span class="sd">            If the blob&#39;s sequence number is less than or equal to</span>
<span class="sd">            the specified value, the request proceeds; otherwise it fails.</span>
<span class="sd">        :param int if_sequence_number_lt:</span>
<span class="sd">            If the blob&#39;s sequence number is less than the specified</span>
<span class="sd">            value, the request proceeds; otherwise it fails.</span>
<span class="sd">        :param int if_sequence_number_eq:</span>
<span class="sd">            If the blob&#39;s sequence number is equal to the specified</span>
<span class="sd">            value, the request proceeds; otherwise it fails.</span>
<span class="sd">        :param datetime if_modified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this header to perform the operation only</span>
<span class="sd">            if the resource has been modified since the specified time.</span>
<span class="sd">        :param datetime if_unmodified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this header to perform the operation only if</span>
<span class="sd">            the resource has not been modified since the specified date/time.</span>
<span class="sd">        :param str if_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify an ETag value for this conditional</span>
<span class="sd">            header to write the page only if the blob&#39;s ETag value matches the</span>
<span class="sd">            value specified. If the values do not match, the Blob service fails.</span>
<span class="sd">        :param str if_none_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify an ETag value for this conditional</span>
<span class="sd">            header to write the page only if the blob&#39;s ETag value does not</span>
<span class="sd">            match the value specified. If the values are identical, the Blob</span>
<span class="sd">            service fails.</span>
<span class="sd">        :param ~azure.storage.blob.models.PremiumPageBlobTier premium_page_blob_tier:</span>
<span class="sd">            A page blob tier value to set the blob to. The tier correlates to the size of the</span>
<span class="sd">            blob and number of allowed IOPS. This is only applicable to page blobs on</span>
<span class="sd">            premium storage accounts.</span>
<span class="sd">        :param int timeout:</span>
<span class="sd">            The timeout parameter is expressed in seconds.</span>
<span class="sd">        :returns: Blob-updated property dict (Etag and last modified).</span>
<span class="sd">        :rtype: dict(str, Any)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">options</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_clear_page_options</span><span class="p">(</span><span class="n">start_range</span><span class="p">,</span> <span class="n">end_range</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">page_blob</span><span class="o">.</span><span class="n">clear_pages</span><span class="p">(</span><span class="o">**</span><span class="n">options</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
        <span class="k">except</span> <span class="n">StorageErrorException</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">process_storage_error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span></div>

<div class="viewcode-block" id="BlobClient.append_block"><a class="viewcode-back" href="../../../../../ref/azure.storage.blob.aio.html#azure.storage.blob.aio.blob_client_async.BlobClient.append_block">[docs]</a>    <span class="nd">@distributed_trace_async</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">append_block</span><span class="p">(</span> <span class="c1"># type: ignore</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span>  <span class="c1"># type: Union[Iterable[AnyStr], IO[AnyStr]]</span>
            <span class="n">length</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># type: Optional[int]</span>
            <span class="n">validate_content</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>  <span class="c1"># type: Optional[bool]</span>
            <span class="n">maxsize_condition</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># type: Optional[int]</span>
            <span class="n">appendpos_condition</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># type: Optional[int]</span>
            <span class="o">**</span><span class="n">kwargs</span>
        <span class="p">):</span>
        <span class="c1"># type: (...) -&gt; Dict[str, Union[str, datetime, int]]</span>
        <span class="sd">&quot;&quot;&quot;Commits a new block of data to the end of the existing append blob.</span>

<span class="sd">        :param data:</span>
<span class="sd">            Content of the block.</span>
<span class="sd">        :param int length:</span>
<span class="sd">            Size of the block in bytes.</span>
<span class="sd">        :param bool validate_content:</span>
<span class="sd">            If true, calculates an MD5 hash of the block content. The storage</span>
<span class="sd">            service checks the hash of the content that has arrived</span>
<span class="sd">            with the hash that was sent. This is primarily valuable for detecting</span>
<span class="sd">            bitflips on the wire if using http instead of https as https (the default)</span>
<span class="sd">            will already validate. Note that this MD5 hash is not stored with the</span>
<span class="sd">            blob.</span>
<span class="sd">        :param int maxsize_condition:</span>
<span class="sd">            Optional conditional header. The max length in bytes permitted for</span>
<span class="sd">            the append blob. If the Append Block operation would cause the blob</span>
<span class="sd">            to exceed that limit or if the blob size is already greater than the</span>
<span class="sd">            value specified in this header, the request will fail with</span>
<span class="sd">            MaxBlobSizeConditionNotMet error (HTTP status code 412 - Precondition Failed).</span>
<span class="sd">        :param int appendpos_condition:</span>
<span class="sd">            Optional conditional header, used only for the Append Block operation.</span>
<span class="sd">            A number indicating the byte offset to compare. Append Block will</span>
<span class="sd">            succeed only if the append position is equal to this number. If it</span>
<span class="sd">            is not, the request will fail with the AppendPositionConditionNotMet error</span>
<span class="sd">            (HTTP status code 412 - Precondition Failed).</span>
<span class="sd">        :param lease:</span>
<span class="sd">            Required if the blob has an active lease. Value can be a LeaseClient object</span>
<span class="sd">            or the lease ID as a string.</span>
<span class="sd">        :type lease: ~azure.storage.blob.aio.lease_async.LeaseClient or str</span>
<span class="sd">        :param datetime if_modified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this header to perform the operation only</span>
<span class="sd">            if the resource has been modified since the specified time.</span>
<span class="sd">        :param datetime if_unmodified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this header to perform the operation only if</span>
<span class="sd">            the resource has not been modified since the specified date/time.</span>
<span class="sd">        :param str if_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify this header to perform</span>
<span class="sd">            the operation only if the resource&#39;s ETag matches the value specified.</span>
<span class="sd">        :param str if_none_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify this header</span>
<span class="sd">            to perform the operation only if the resource&#39;s ETag does not match</span>
<span class="sd">            the value specified. Specify the wildcard character (*) to perform</span>
<span class="sd">            the operation only if the resource does not exist, and fail the</span>
<span class="sd">            operation if it does exist.</span>
<span class="sd">        :param str encoding:</span>
<span class="sd">            Defaults to UTF-8.</span>
<span class="sd">        :param ~azure.storage.blob.models.CustomerProvidedEncryptionKey cpk:</span>
<span class="sd">            Encrypts the data on the service-side with the given key.</span>
<span class="sd">            Use of customer-provided keys must be done over HTTPS.</span>
<span class="sd">            As the encryption key itself is provided in the request,</span>
<span class="sd">            a secure connection must be established to transfer the key.</span>
<span class="sd">        :param int timeout:</span>
<span class="sd">            The timeout parameter is expressed in seconds.</span>
<span class="sd">        :returns: Blob-updated property dict (Etag, last modified, append offset, committed block count).</span>
<span class="sd">        :rtype: dict(str, Any)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">options</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_append_block_options</span><span class="p">(</span>
            <span class="n">data</span><span class="p">,</span>
            <span class="n">length</span><span class="o">=</span><span class="n">length</span><span class="p">,</span>
            <span class="n">validate_content</span><span class="o">=</span><span class="n">validate_content</span><span class="p">,</span>
            <span class="n">maxsize_condition</span><span class="o">=</span><span class="n">maxsize_condition</span><span class="p">,</span>
            <span class="n">appendpos_condition</span><span class="o">=</span><span class="n">appendpos_condition</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span>
        <span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">append_blob</span><span class="o">.</span><span class="n">append_block</span><span class="p">(</span><span class="o">**</span><span class="n">options</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
        <span class="k">except</span> <span class="n">StorageErrorException</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">process_storage_error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span></div>

<div class="viewcode-block" id="BlobClient.append_block_from_url"><a class="viewcode-back" href="../../../../../ref/azure.storage.blob.aio.html#azure.storage.blob.aio.blob_client_async.BlobClient.append_block_from_url">[docs]</a>    <span class="nd">@distributed_trace_async</span><span class="p">()</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">append_block_from_url</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">copy_source_url</span><span class="p">,</span>  <span class="c1"># type: str</span>
                                    <span class="n">source_range_start</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># type Optional[int]</span>
                                    <span class="n">source_range_end</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># type Optional[int]</span>
                                    <span class="n">source_content_md5</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># type: Optional[bytearray]</span>
                                    <span class="n">maxsize_condition</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># type: Optional[int]</span>
                                    <span class="n">appendpos_condition</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># type: Optional[int]</span>
                                    <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1"># type: (...) -&gt; Dict[str, Union[str, datetime, int]]</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a new block to be committed as part of a blob, where the contents are read from a source url.</span>

<span class="sd">        :param str copy_source_url:</span>
<span class="sd">            The URL of the source data. It can point to any Azure Blob or File, that is either public or has a</span>
<span class="sd">            shared access signature attached.</span>
<span class="sd">        :param int source_range_start:</span>
<span class="sd">            This indicates the start of the range of bytes(inclusive) that has to be taken from the copy source.</span>
<span class="sd">        :param int source_range_end:</span>
<span class="sd">            This indicates the end of the range of bytes(inclusive) that has to be taken from the copy source.</span>
<span class="sd">        :param bytearray source_content_md5:</span>
<span class="sd">            If given, the service will calculate the MD5 hash of the block content and compare against this value.</span>
<span class="sd">        :param int maxsize_condition:</span>
<span class="sd">            Optional conditional header. The max length in bytes permitted for</span>
<span class="sd">            the append blob. If the Append Block operation would cause the blob</span>
<span class="sd">            to exceed that limit or if the blob size is already greater than the</span>
<span class="sd">            value specified in this header, the request will fail with</span>
<span class="sd">            MaxBlobSizeConditionNotMet error (HTTP status code 412 - Precondition Failed).</span>
<span class="sd">        :param int appendpos_condition:</span>
<span class="sd">            Optional conditional header, used only for the Append Block operation.</span>
<span class="sd">            A number indicating the byte offset to compare. Append Block will</span>
<span class="sd">            succeed only if the append position is equal to this number. If it</span>
<span class="sd">            is not, the request will fail with the</span>
<span class="sd">            AppendPositionConditionNotMet error</span>
<span class="sd">            (HTTP status code 412 - Precondition Failed).</span>
<span class="sd">        :param ~azure.storage.blob.lease.LeaseClient or str lease:</span>
<span class="sd">            Required if the blob has an active lease. Value can be a LeaseClient object</span>
<span class="sd">            or the lease ID as a string.</span>
<span class="sd">        :param datetime if_modified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this header to perform the operation only</span>
<span class="sd">            if the resource has been modified since the specified time.</span>
<span class="sd">        :param datetime if_unmodified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this header to perform the operation only if</span>
<span class="sd">            the resource has not been modified since the specified date/time.</span>
<span class="sd">        :param str if_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify this header to perform</span>
<span class="sd">            the operation only if the resource&#39;s ETag matches the value specified.</span>
<span class="sd">        :param str if_none_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify this header</span>
<span class="sd">            to perform the operation only if the resource&#39;s ETag does not match</span>
<span class="sd">            the value specified. Specify the wildcard character (*) to perform</span>
<span class="sd">            the operation only if the resource does not exist, and fail the</span>
<span class="sd">            operation if it does exist.</span>
<span class="sd">        :param datetime source_if_modified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this header to perform the operation only</span>
<span class="sd">            if the source resource has been modified since the specified time.</span>
<span class="sd">        :param datetime source_if_unmodified_since:</span>
<span class="sd">            A DateTime value. Azure expects the date value passed in to be UTC.</span>
<span class="sd">            If timezone is included, any non-UTC datetimes will be converted to UTC.</span>
<span class="sd">            If a date is passed in without timezone info, it is assumed to be UTC.</span>
<span class="sd">            Specify this header to perform the operation only if</span>
<span class="sd">            the source resource has not been modified since the specified date/time.</span>
<span class="sd">        :param str source_if_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify this header to perform</span>
<span class="sd">            the operation only if the source resource&#39;s ETag matches the value specified.</span>
<span class="sd">        :param str source_if_none_match:</span>
<span class="sd">            An ETag value, or the wildcard character (*). Specify this header</span>
<span class="sd">            to perform the operation only if the source resource&#39;s ETag does not match</span>
<span class="sd">            the value specified. Specify the wildcard character (*) to perform</span>
<span class="sd">            the operation only if the source resource does not exist, and fail the</span>
<span class="sd">            operation if it does exist.</span>
<span class="sd">        :param ~azure.storage.blob.models.CustomerProvidedEncryptionKey cpk:</span>
<span class="sd">            Encrypts the data on the service-side with the given key.</span>
<span class="sd">            Use of customer-provided keys must be done over HTTPS.</span>
<span class="sd">            As the encryption key itself is provided in the request,</span>
<span class="sd">            a secure connection must be established to transfer the key.</span>
<span class="sd">        :param int timeout:</span>
<span class="sd">            The timeout parameter is expressed in seconds.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">options</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_append_block_from_url_options</span><span class="p">(</span>
            <span class="n">copy_source_url</span><span class="p">,</span>
            <span class="n">source_range_start</span><span class="o">=</span><span class="n">source_range_start</span><span class="p">,</span>
            <span class="n">source_range_end</span><span class="o">=</span><span class="n">source_range_end</span><span class="p">,</span>
            <span class="n">source_content_md5</span><span class="o">=</span><span class="n">source_content_md5</span><span class="p">,</span>
            <span class="n">maxsize_condition</span><span class="o">=</span><span class="n">maxsize_condition</span><span class="p">,</span>
            <span class="n">appendpos_condition</span><span class="o">=</span><span class="n">appendpos_condition</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span>
        <span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">append_blob</span><span class="o">.</span><span class="n">append_block_from_url</span><span class="p">(</span><span class="o">**</span><span class="n">options</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
        <span class="k">except</span> <span class="n">StorageErrorException</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="n">process_storage_error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span></div></div>
</pre></div>

           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Microsoft

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
 
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-62780441-36"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-62780441-36');
</script>


</body>
</html>